import{j as s}from"./jsx-runtime-bVLyH9Km.js";import{C as f,a as h}from"./ConfigCustomBackItUpSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__-D2gYYX4s.js";import{C as l}from"./ConfigCustomBackItUpSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__-BQ7KWo4M.js";import{C as H,i as Q}from"./ConfigCustomBackItUpSet__mf_v__runtimeInit__mf_v__-Cy0TQlfU.js";import{R as b,C as w}from"./ConfigCustomBackItUpSet__loadShare__react__loadShare__-Tf1XiuWn.js";import{c as I}from"./_commonjsHelpers-BosuxZz1.js";const{loadShare:J}=Q,{initPromise:G}=H,V=G.then(n=>J("@iobroker/json-config",{customShareInfo:{shareConfig:{singleton:!0,strictVersion:!1,requiredVersion:"*"}}})),X=await V.then(n=>n());var S=X;class T extends S.ConfigGeneric{constructor(e){super(e),this.state.message=!1}isConfigFilled(e){return e==="ccu"?!!this.props.data.ccuHost&&!!this.props.data.ccuEnabled:e==="mySql"?!!this.props.data.mySqlUser&&!!this.props.data.mySqlEnabled:e==="sqlite"?!!this.props.data.sqlitePath&&!!this.props.data.sqliteEnabled:e==="pgSql"?!!this.props.data.pgSqlUser&&!!this.props.data.pgSqlEnabled:e==="influxDB"?!!this.props.data.influxDBName&&!!this.props.data.influxDBEnabled:e==="history"?!!this.props.data.historyPath&&!!this.props.data.historyEnabled:(this.showMessage(l.I18n.t("BackItUp Warning!"),l.I18n.t("Unknown config type %s",e)),!1)}fetchConfig=async(e,t)=>e==="ccu"?this.fetchCcuConfig(t):e==="mySql"?this.fetchMySqlConfig(t):e==="sqlite"?this.fetchSqliteConfig(t):e==="pgSql"?this.fetchPgSqlConfig(t):e==="influxDB"?this.fetchInfluxDBConfig(t):e==="history"?this.fetchHistoryConfig(t):(this.showMessage(l.I18n.t("BackItUp Warning!"),l.I18n.t("Unknown config type %s",e)),{changed:!1,found:!1});async fetchCcuConfig(e){const t=Object.values(await this.props.oContext.socket.getObjectViewCustom("system","instance","system.adapter.hm-rpc.","system.adapter.hm-rpc.香"));let o=!1,c=!1;if(t&&t.length){for(let i=0;i<t.length;i++){const a=t[i].common,r=t[i].native;if(a.enabled&&r){(e.ccuHost!==r.homematicAddress||e.ccuUsehttps!==r.useHttps)&&(e.ccuHost=r.homematicAddress,e.ccuUsehttps=r.useHttps,c=!0),o=t[i]._id;break}}if(!o)for(let i=0;i<t.length;i++){const a=t[i].native;a&&(e.ccuHost!==a.homematicAddress||e.ccuUsehttps!==a.useHttps)&&(e.ccuHost=a.homematicAddress,e.ccuUsehttps=a.useHttps,c=!0),o=t[i]._id}}return{changed:c,found:o}}async fetchMySqlConfig(e){const t=Object.values(await this.props.oContext.socket.getObjectViewCustom("system","instance","system.adapter.sql.","system.adapter.sql.香"));let o=!1,c=!1;if(t&&t.length){for(let i=0;i<t.length;i++){const a=t[i].common,r=t[i].native;if(a.enabled&&(r==null?void 0:r.dbtype)==="mysql"){const p=r.port==="0"?3306:r.port||3306;(e.mySqlUser!==r.user||e.mySqlPassword!==r.password||e.mySqlHost!==r.host||e.mySqlPort!==p||e.mySqlName!==r.dbname)&&(e.mySqlUser=r.user,e.mySqlPassword=r.password,e.mySqlHost=r.host,e.mySqlPort=p,e.mySqlName=r.dbname,c=!0),o=t[i]._id;break}}if(!o)for(let i=0;i<t.length;i++){const a=t[i].native;if((a==null?void 0:a.dbtype)==="mysql"){const r=a.port==="0"?3306:a.port||3306;(e.mySqlUser!==a.user||e.mySqlPassword!==a.password||e.mySqlHost!==a.host||e.mySqlPort!==r||e.mySqlName!==a.dbname)&&(e.mySqlUser=a.user,e.mySqlPassword=a.password,e.mySqlHost=a.host,e.mySqlPort=r,e.mySqlName=a.dbname,c=!0),o=t[i]._id;break}}}return{changed:c,found:o}}async fetchSqliteConfig(e){const t=Object.values(await this.props.oContext.socket.getObjectViewCustom("system","instance","system.adapter.sql.","system.adapter.sql.香"));let o=!1,c=!1;if(t&&t.length){for(let i=0;i<t.length;i++){const a=t[i].common,r=t[i].native;if(a.enabled&&r&&r.dbtype==="sqlite"&&r.fileName){const d=r.fileName.split("/")>1?r.fileName:`/opt/iobroker/iobroker-data/sqlite/${r.fileName}`;e.sqlitePath!==d&&(e.sqlitePath=d,c=!0),o=t[i]._id;break}}if(!o)for(let i=0;i<t.length;i++){const a=t[i].native;if((a==null?void 0:a.dbtype)==="sqlite"&&a.fileName){const p=a.fileName.split("/")>1?a.fileName:`/opt/iobroker/iobroker-data/sqlite/${a.fileName}`;e.sqlitePath!==p&&(e.sqlitePath=p,c=!0),o=t[i]._id;break}}}return{changed:c,found:o}}async fetchPgSqlConfig(e){const t=Object.values(await this.props.oContext.socket.getObjectViewCustom("system","instance","system.adapter.sql.","system.adapter.sql.香"));let o=!1,c=!1;if(t&&t.length){for(let i=0;i<t.length;i++){const a=t[i].common,r=t[i].native;if(a.enabled&&(r==null?void 0:r.dbtype)==="postgresql"){const p=r.port==="0"?5432:r.port||5432;(e.pgSqlUser!==r.user||e.pgSqlPassword!==r.password||e.pgSqlHost!==r.host||e.pgSqlPort!==p||e.pgSqlName!==r.dbname)&&(e.pgSqlUser=r.user,e.pgSqlPassword=r.password,e.pgSqlHost=r.host,e.pgSqlPort=p,e.pgSqlName=r.dbname,c=!0),o=t[i]._id;break}}if(!o)for(let i=0;i<t.length;i++){const a=t[i].native;if((a==null?void 0:a.dbtype)==="postgresql"){const r=a.port==="0"?5432:a.port||5432;(e.pgSqlUser!==a.user||e.pgSqlPassword!==a.password||e.pgSqlHost!==a.host||e.pgSqlPort!==r||e.pgSqlName!==a.dbname)&&(e.pgSqlUser=a.user,e.pgSqlPassword=a.password,e.pgSqlHost=a.host,e.pgSqlPort=r,e.pgSqlName=a.dbname,c=!0),o=t[i]._id;break}}}return{changed:c,found:o}}async fetchInfluxDBConfig(e){const t=Object.values(await this.props.oContext.socket.getObjectViewCustom("system","instance","system.adapter.influxdb.","system.adapter.influxdb.香"));let o=!1,c=!1;if(t&&t.length){for(let i=0;i<t.length;i++){const a=t[i].common,r=t[i].native;if(a.enabled){(e.influxDBHost!==r.host||e.influxDBVersion!==r.dbversion||e.influxDBProtocol!==r.protocol||e.influxDBName!==r.dbname||r.dbversion==="2.x"&&e.influxDBPort!==r.port)&&(e.influxDBHost=r.host,e.influxDBVersion=r.dbversion,e.influxDBProtocol=r.protocol,e.influxDBName=r.dbname,r.port&&r.dbversion==="2.x"&&(e.influxDBPort=r.port),c=!0),o=t[i]._id;break}}if(!o&&t.length&&t[0].native){const i=t[0].native;i&&(e.influxDBHost!==i.host||e.influxDBVersion!==i.dbversion||e.influxDBProtocol!==i.protocol||e.influxDBName!==i.dbname||i.dbversion==="2.x"&&e.influxDBPort!==i.port)&&(e.influxDBHost=i.host,e.influxDBVersion=i.dbversion,e.influxDBProtocol=i.protocol,e.influxDBName=i.dbname,i.port&&i.dbversion==="2.x"&&(e.influxDBPort=i.port),c=!0),o=t[0]._id}}return{changed:c,found:o}}async fetchHistoryConfig(e){const t=Object.values(await this.props.oContext.socket.getObjectViewCustom("system","instance","system.adapter.history.","system.adapter.history.香"));let o="",c=!1,i=!1;if(t!=null&&t.length){for(let r=0;r<t.length;r++){const p=t[r].common,d=t[r].native;if(p.enabled&&d){const u=d.storeDir&&!d.storeDir.startsWith("/opt/iobroker/backups")?d.storeDir:"/opt/iobroker/iobroker-data/history";e.historyPath!==u&&(e.historyPath=u,i=!0),o=d.storeDir,c=t[r]._id;break}}if(!c&&t[0]){const r=t[0].native;if(r){const p=r.storeDir&&!r.storeDir.startsWith("/opt/iobroker/backups")?r.storeDir:"/opt/iobroker/iobroker-data/history";e.historyPath!==p&&(e.historyPath=p,i=!0),o=r.storeDir,c=t[0]._id}}}let a;return c&&(o?o!=null&&o.startsWith("/opt/iobroker/backups")&&(a=l.I18n.t(`The storage path of %s must not be identical to the path for backups.
The default path of the history adapter has been set.

Please change the path in the history adapter!`,c.substring(15))):a=l.I18n.t(`No storage path of %s is configured.
The default path of the history adapter has been set.`,c.substring(15))),{changed:i,found:c,message:a}}checkAdapterInstall=async(e,t)=>{const o=this.props.common.host;let c=e;(e==="pgsql"||e==="mysql"||e==="sqlite")&&(c="sql");const i=["zigbee","esphome","zigbee2mqtt","node-red","yahka","jarvis","history"];{const a=Object.values(await this.props.oContext.socket.getObjectViewCustom("system","instance",`system.adapter.${c}.`,`system.adapter.${c}.香`));if(a!=null&&a.length){let r=!1;for(let p=0;p<a.length;p++)if(a[p].common.host===o||t){r=!0;break}!r&&i.includes(c)&&this.showMessage(l.I18n.t("BackItUp Warning!"),l.I18n.t(`No %s Instance found on this host.
Please check your System`,c),"warning")}else i.includes(c)&&this.showMessage(l.I18n.t("BackItUp Warning!"),l.I18n.t(`No %s Instance found on this host.
Please check your System`,c),"warning")}};showMessage=(e,t,o)=>{this.setState({message:{title:e,text:t,level:o||"info"}})};renderMessage(){if(!this.state.message)return null;const e=this.state.message.text.split(`
`).map(t=>s.jsx("div",{style:{minHeight:24},children:t},t));return this.state.message?s.jsx(l.DialogMessage,{title:this.state.message.title,text:e,icon:this.state.message.level==="info"?s.jsx(f.Info,{}):this.state.message.level==="warning"?s.jsx(f.Warning,{style:{color:"orange"}}):this.state.message.level==="error"?s.jsx(h.Alert,{style:{color:"red"}}):void 0,onClose:()=>this.setState({message:!1})}):null}}class K extends T{renderItem(){return s.jsxs(s.Fragment,{children:[s.jsx(h.FormControlLabel,{control:s.jsx(h.Checkbox,{checked:(this.props.schema.custom.adapter==="hm-rpc"||this.props.schema.custom.adapter==="javascript"||this.props.schema.custom.adapter==="backitup")&&this.props.data.hostType==="Slave"?!1:this.props.data[this.props.attr]?this.props.data[this.props.attr]:!1,disabled:(this.props.schema.custom.adapter==="influxdb"||this.props.schema.custom.adapter==="sql")&&this.props.data._nonSupportDockerDB||(this.props.schema.custom.adapter==="hm-rpc"||this.props.schema.custom.adapter==="javascript"||this.props.schema.custom.adapter==="backitup")&&this.props.data.hostType==="Slave",onChange:e=>{e.target.checked&&(this.props.schema.custom.adapter?this.checkAdapterInstall(this.props.schema.custom.adapter,!!this.props.schema.custom.allHosts).catch(t=>console.error(t)):this.props.schema.custom.alert&&this.setState({message:{text:l.I18n.t(this.props.schema.custom.alert),title:l.I18n.t(this.props.schema.title)}})),this.props.onChange({...this.props.data,[this.props.attr]:e.target.checked})}}),label:l.I18n.t(this.props.schema.label||this.props.schema.custom.adapter)}),this.renderMessage()]})}}const Y={paper:{height:"calc(100% - 64px)"},textTime:{display:"inline-block",width:95},responseTextTime:{display:"inline-block",width:70},textLevel:{display:"inline-block",width:50},"textLevel-ERROR":{color:"red"},"textLevel-WARN":{color:"orange"},"textLevel-INFO":{color:"#00b204"},textSource:{display:"inline-block",width:100,textAlign:"left"},text:{display:"inline-block"},responseText:{display:"inline-block",wordWrap:"break-word"},textLine:{whiteSpace:"nowrap"},responseTextLine:{whiteSpace:"normal"},dialogContent:{position:"relative",padding:16},logContainer:{fontSize:12,fontFamily:"monospace",padding:8,border:"1px solid grey",borderRadius:5,overflow:"auto",boxSizing:"border-box",height:"calc(100% - 16px - 4px)",width:"calc(100% - 16px)"},responseLogContainer:{position:"relative",display:"flex",flexDirection:"column",gap:15},dialogActions:{display:"flex",flexDirection:"column",alignItems:"stretch"}};class j extends S.ConfigGeneric{lastExecutionLine;textRef;closeTimeout;constructor(e){super(e),this.state={...this.state,executing:!1,executionDialog:!1,executionLog:[],closeOnReady:!1,styles:Y,isFullScreen:!1},this.lastExecutionLine="",this.textRef=b.createRef()}static getTime(){const e=new Date;return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}.${e.getMilliseconds().toString().padStart(3,"0")}`}onOutput=(e,t)=>{if(t&&t.val&&t.val!==this.lastExecutionLine){this.lastExecutionLine=t.val;const o=[...this.state.executionLog],c=(t.val||"").toString().replace(/\n$/,"").split(`
`),i=j.getTime();if(c.forEach(a=>{a=a.trim();const r=a.match(/^\[(\w+)] \[(\w+)] - (.*)/);if(r)o.push({level:r[1],source:r[2],ts:i,text:r[3]});else if(t.val.startsWith("[EXIT]")){const p=t.val.match(/^\[EXIT] ([-\d]+)/);o.push({level:p[1]==="0"?"INFO":"WARN",source:"gui",ts:i,text:p[1]==="0"?l.I18n.t("The backup was successfully created!"):l.I18n.t("The backup could not be created completely!")})}else o.push({text:a})}),this.textRef.current&&this.textRef.current.scrollTop+this.textRef.current.clientHeight>=this.textRef.current.scrollHeight&&setTimeout(()=>this.textRef.current.scrollTop=this.textRef.current.scrollHeight,100),this.setState({executionLog:o}),t.val.startsWith("[EXIT]")){this.setState({executing:!1});const a=t.val.match(/^\[EXIT] ([-\d]+)/);this.state.closeOnReady&&(!a||a[1]==="0")&&(this.closeTimeout=this.closeTimeout||setTimeout(()=>{this.closeTimeout=null,this.setState({executionDialog:!1})},1500))}}};async componentDidMount(){super.componentDidMount(),await this.props.oContext.socket.subscribeState(`${this.props.oContext.adapterName}.${this.props.oContext.instance}.oneClick.${this.props.schema.custom.backUpType}`,this.onEnabled),await this.props.oContext.socket.subscribeState(`${this.props.oContext.adapterName}.${this.props.oContext.instance}.output.line`,this.onOutput),this.updateFullScreenMode(),window.addEventListener("resize",this.updateFullScreenMode)}onEnabled=(e,t)=>{e===`${this.props.oContext.adapterName}.${this.props.oContext.instance}.oneClick.${this.props.schema.custom.backUpType}`&&!!(t!=null&&t.val)!==this.state.executing&&this.setState({executing:!!(t!=null&&t.val)})};componentWillUnmount(){super.componentWillUnmount(),this.props.oContext.socket.unsubscribeState(`${this.props.oContext.adapterName}.${this.props.oContext.instance}.oneClick.${this.props.schema.custom.backUpType}`,this.onEnabled),this.props.oContext.socket.unsubscribeState(`${this.props.oContext.adapterName}.${this.props.oContext.instance}.output.line`,this.onOutput),this.closeTimeout&&clearTimeout(this.closeTimeout),this.closeTimeout=null,window.removeEventListener("resize",this.updateFullScreenMode)}updateFullScreenMode=()=>{const e=window.matchMedia("(max-width: 600px)").matches;this.setState({isFullScreen:e})};renderLine(e,t){return s.jsxs("div",{style:{...this.state.isFullScreen?this.state.styles.responseTextLine:this.state.styles.textLine},children:[s.jsx("div",{style:{...this.state.styles.textTime,...e.level?this.state.styles[`textLevel-${e.level}`]:void 0},children:e.ts}),s.jsx("div",{style:{...this.state.styles.textLevel,...e.level?this.state.styles[`textLevel-${e.level}`]:void 0},children:e.level}),s.jsx("div",{style:{...this.state.styles.textSource,...e.level?this.state.styles[`textLevel-${e.level}`]:void 0},children:e.source}),s.jsx("div",{style:{...this.state.isFullScreen?this.state.styles.responseText:this.state.styles.text,...e.level?this.state.styles[`textLevel-${e.level}`]:void 0},children:e.text})]},t)}renderExecutionDialog(){return this.state.executionDialog?s.jsxs(h.Dialog,{open:!0,onClose:()=>this.setState({executionDialog:!1}),maxWidth:"lg",fullWidth:!0,fullScreen:this.state.isFullScreen,sx:{"& .MuiDialog-paper":this.state.styles.paper},children:[s.jsxs(h.DialogTitle,{children:[s.jsx(f.CloudUploadOutlined,{style:{width:24,height:24,margin:"0 10px -4px 0"}}),l.I18n.t("BackItUp execution:")]}),s.jsxs(h.DialogContent,{style:this.state.styles.dialogContent,children:[this.state.executing?s.jsx(h.LinearProgress,{style:{position:"absolute",top:0,left:24,width:"calc(100% - 64px)"}}):s.jsx("div",{style:{height:4,width:"calc(100% - 64px)"}}),s.jsx("div",{style:{...this.state.styles.logContainer,...this.state.isFullScreen?this.state.styles.responseLogContainer:void 0,backgroundColor:this.props.oContext.themeType==="dark"?"#111":"#EEE"},ref:this.textRef,children:this.state.executionLog.map((e,t)=>this.renderLine(e,t))})]}),s.jsxs(h.DialogActions,{style:{...this.state.isFullScreen?this.state.styles.dialogActions:void 0},children:[s.jsx(h.FormControlLabel,{control:s.jsx(h.Checkbox,{disabled:!this.state.executing,checked:this.state.closeOnReady,onChange:e=>this.setState({closeOnReady:e.target.checked})}),label:l.I18n.t("Close on ready")}),s.jsx(h.Button,{variant:"contained",color:this.props.color,onClick:()=>this.setState({executionDialog:!1}),children:l.I18n.t("Close")})]})]}):null}renderItem(){return s.jsxs(s.Fragment,{children:[s.jsx(h.Button,{disabled:!this.props.alive||this.state.executing,onClick:()=>this.setState({executionDialog:!0,executionLog:[{ts:j.getTime(),level:"INFO",text:l.I18n.t("starting Backup..."),source:"gui"}],executing:!0},async()=>{this.lastExecutionLine="",await this.props.oContext.socket.setState(`${this.props.oContext.adapterName}.${this.props.oContext.instance}.oneClick.${this.props.schema.custom.backUpType}`,!0)}),className:this.props.className,color:this.props.color,variant:"contained",style:this.props.style,endIcon:s.jsx(f.CloudUploadOutlined,{}),children:this.props.schema.label?l.I18n.t(this.props.schema.label):l.I18n.t("Backup now")}),this.renderExecutionDialog()]})}}class Z extends T{renderItem(){return s.jsxs(s.Fragment,{children:[s.jsx(h.Button,{variant:"contained",endIcon:s.jsx(f.Search,{}),onClick:async()=>{const e={...this.props.data},t=await this.fetchConfig(this.props.schema.custom.adapter,e);t.found?t.changed?(this.showMessage(l.I18n.t("BackItUp Information!"),t.message||l.I18n.t("Config taken from %s",t.found.substring(15))),this.props.onChange(e)):this.showMessage(l.I18n.t("BackItUp Information!"),t.message||l.I18n.t("Config found in %s, but nothing changed",t.found.substring(15))):this.showMessage(l.I18n.t("BackItUp Warning!"),l.I18n.t("No config found"),"warning")},children:l.I18n.t("Detect config")}),this.renderMessage()]})}}class _ extends T{async componentDidMount(){if(super.componentDidMount(),!this.isConfigFilled(this.props.schema.adapter)){const e={...this.props.data};(await this.fetchConfig(this.props.schema.adapter,e)).changed&&this.props.onChange(e)}}renderItem(){return this.renderMessage()}}class $ extends S.ConfigGeneric{googleAuthWindow;componentDidMount(){super.componentDidMount(),window.addEventListener?window.addEventListener("message",this.onMessage,!1):window.attachEvent("onmessage",this.onMessage,!1)}componentWillUnmount(){super.componentWillUnmount(),window.removeEventListener?window.removeEventListener("message",this.onMessage,!1):window.detachEvent("onmessage",this.onMessage,!1)}onMessage=e=>{var t;if(e.origin==="https://googleauth.iobroker.in"&&(typeof e.data=="string"&&e.data.startsWith("google-authentication:")||typeof e.message=="string"&&e.message.startsWith("google-authentication:"))){const o=(e.data||e.message).split(":");o[1]==="success"?(this.setState({googleDriveUrl:"",googledriveAccessTokens:o[2],success:!0},()=>this.props.onChange({...this.props.data,googledriveAccessTokens:this.state.googledriveAccessTokens})),(t=this.googleAuthWindow)==null||t.postMessage("close",e.origin),this.googleAuthWindow=null):this.props.onError&&this.props.onError(o[2])}};onOpenUrl(){this.googleAuthWindow=window.open(this.state.googleDriveUrl,"ioBrokerGoogleAuth"),(!this.googleAuthWindow||this.googleAuthWindow.closed||typeof this.googleAuthWindow.closed>"u")&&this.setState({blocked:!0})}renderItem(){var e,t;return s.jsxs("div",{style:{width:"100%",margin:"0 0 1rem 0"},children:[s.jsx(h.Button,{disabled:!!this.state.googleDriveUrl||!this.props.alive||this.state.running,endIcon:s.jsx(f.CloudUpload,{}),variant:"contained",onClick:()=>this.setState({running:!0},async()=>{const o=await this.props.oContext.socket.sendTo(`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,"authGoogleDrive",{url:`${window.location.protocol}//${window.location.host}${window.location.pathname}`});this.setState({googleDriveUrl:o.url,running:!1},()=>this.onOpenUrl())}),children:l.I18n.t(this.props.data.googledriveAccessTokens?"Renew Google Drive Access":"Get Google Drive Access")}),this.state.blocked?s.jsx("div",{style:{color:"red",fontSize:16,marginTop:20},children:l.I18n.t("Please allow popups in your browser for this page!")}):null,this.state.success&&((e=this.props.originalData)==null?void 0:e.googledriveAccessTokens)!==this.state.googledriveAccessTokens?s.jsx("div",{style:{color:"green",fontSize:16,marginTop:20},children:l.I18n.t("Successfully authorized. Now please be sure, the configuration is saved.")}):null,this.state.success&&((t=this.props.originalData)==null?void 0:t.googledriveAccessTokens)===this.state.googledriveAccessTokens?s.jsx("div",{style:{color:"green",fontWeight:"bold",fontSize:16,marginTop:20},children:l.I18n.t("Successfully authorized!")}):null,!this.state.success&&this.props.data.googledriveAccessTokens?s.jsx("div",{style:{color:"green",fontWeight:"bold",fontSize:16,marginTop:20},children:l.I18n.t("Authorization token exists")}):null,this.state.googleDriveUrl?s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{width:"100%",margin:"1rem 0 1rem 0"},children:[s.jsx("span",{style:{marginRight:4},children:`${l.I18n.t("Authorize this app by visiting this url:")}`}),s.jsx("br",{}),s.jsx("a",{target:"_blank",href:this.state.googleDriveUrl,rel:"noreferrer",children:this.state.googleDriveUrl})]}),s.jsx(h.TextField,{value:this.state.googledriveAccessTokens,label:l.I18n.t("Enter the code from that page here"),variant:"standard",onChange:o=>{this.setState({googledriveAccessTokens:o.target.value},()=>this.props.onChange({...this.props.data,googledriveAccessTokens:this.state.googledriveAccessTokens}))},fullWidth:!0})]}):null]})}}class ee extends S.ConfigGeneric{renderItem(){return s.jsxs("div",{style:{width:"100%",margin:"0 0 1rem 0"},children:[s.jsx("div",{style:{width:"100%",margin:"0 0 1rem 0"},children:s.jsxs("span",{hidden:!!this.state.onedriveUrl,children:[s.jsx("span",{style:{marginRight:4},children:`${l.I18n.t("OneDrive refresh token:")}`}),l.I18n.t(this.state.onedriveState==="Present"||this.props.data.onedriveAccessJson?"Present":"Not present")]})}),s.jsx(h.Button,{disabled:!!this.state.onedriveUrl||!this.props.alive||this.state.running,endIcon:s.jsx(f.CloudUpload,{}),variant:"contained",onClick:()=>this.setState({running:!0},async()=>{const e=await this.props.oContext.socket.sendTo(`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,"authOnedrive",null);this.setState({onedriveUrl:e.url,running:!1})}),children:l.I18n.t(this.props.data.onedriveAccessJson?"Renew OneDrive Access":"Get OneDrive Access")}),this.state.onedriveUrl?s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{width:"100%",margin:"1rem 0 1rem 0"},children:[s.jsx("span",{style:{marginRight:4},children:`${l.I18n.t("Authorize this app by visiting this url:")}`}),s.jsx("br",{}),s.jsx("a",{target:"_blank",href:this.state.onedriveUrl,rel:"noreferrer",children:this.state.onedriveUrl})]}),s.jsx(h.TextField,{label:l.I18n.t("Enter the code from that page here"),variant:"standard",onChange:e=>this.setState({code:e.target.value}),fullWidth:!0}),s.jsx(h.Button,{style:{margin:"1rem 0 1rem 0"},disabled:!this.state.onedriveUrl||!this.props.alive||this.state.running,endIcon:s.jsx(f.CloudUpload,{}),variant:"contained",onClick:()=>this.setState({running:!0},async()=>{const e=await this.props.oContext.socket.sendTo(`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,"authOnedrive",{code:this.state.code});this.props.onChange({...this.props.data,onedriveAccessJson:e.json}),this.setState({onedriveState:e.done?"Present":"Not present",running:!1,onedriveUrl:null})}),children:l.I18n.t("Submit")})]}):null]})}}class te extends S.ConfigGeneric{authWindow;async componentDidMount(){super.componentDidMount(),window.addEventListener?window.addEventListener("message",this.onMessage,!1):window.attachEvent("onmessage",this.onMessage,!1),await this.props.oContext.socket.subscribeState(`${this.props.oContext.adapterName}.${this.props.oContext.instance}.info.dropboxTokens`,this.onTokensUpdated);const e=await this.props.oContext.socket.getState(`${this.props.oContext.adapterName}.${this.props.oContext.instance}.info.dropboxTokens`);if(e){const t=JSON.parse(e.val);new Date(t.access_token_expires_on).getTime()>Date.now()&&this.setState({accessTokens:e.val})}}onTokensUpdated=(e,t)=>{if(t!=null&&t.val){const o=JSON.parse(t.val);if(new Date(o.access_token_expires_on).getTime()>Date.now()){this.state.accessTokens!==t.val&&this.setState({accessTokens:t.val});return}}this.setState({accessTokens:""})};componentWillUnmount(){super.componentWillUnmount(),window.removeEventListener?window.removeEventListener("message",this.onMessage,!1):window.detachEvent("onmessage",this.onMessage,!1),this.props.oContext.socket.unsubscribeState(`${this.props.oContext.adapterName}.${this.props.oContext.instance}.info.dropboxTokens`,this.onTokensUpdated)}saveToken(e){try{e&&!e.startsWith("{")&&(e=atob(e));const t=JSON.parse(e);t.access_token&&t.refresh_token&&t.expires_in&&(t.access_token_expires_on||=new Date(Date.now()+t.expires_in*1e3).toISOString(),this.props.oContext.socket.setState(`${this.props.oContext.adapterName}.${this.props.oContext.instance}.info.dropboxTokens`,JSON.stringify(t),!0).catch(o=>console.log(`Error occurred: ${o}`)))}catch(t){console.log(t)}}onMessage=e=>{var t;if(e.origin==="https://oauth2.iobroker.in"&&(typeof e.data=="string"&&e.data.startsWith("dropbox-authentication:")||typeof e.message=="string"&&e.message.startsWith("dropbox-authentication:"))){const o=(e.data||e.message).split(":");o[1]==="success"?(this.setState({url:"",accessTokens:o[2],success:!0},()=>this.saveToken(this.state.accessTokens)),(t=this.authWindow)==null||t.postMessage("close",e.origin),this.authWindow=null):this.props.onError&&this.props.onError(o[2])}};onOpenUrl(){this.authWindow=window.open(this.state.url,"ioBrokerDropBoxAuth"),(!this.authWindow||this.authWindow.closed||typeof this.authWindow.closed>"u")&&this.setState({blocked:!0})}renderItem(){let e="";if(this.state.accessTokens)try{const t=JSON.parse(this.state.accessTokens);e=new Date(t.access_token_expires_on).toLocaleString()}catch{}return s.jsxs("div",{style:{width:"100%",margin:"0 0 1rem 0"},children:[s.jsx(h.Button,{disabled:!!this.state.url||!this.props.alive||this.state.running,endIcon:s.jsx(f.CloudUpload,{}),variant:"contained",onClick:()=>this.setState({running:!0},async()=>{const t=await this.props.oContext.socket.sendTo(`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,"authDropbox");this.setState({url:t.url,running:!1},()=>this.onOpenUrl())}),children:l.I18n.t(this.state.accessTokens?"Renew DropBox Access":"Get DropBox Access")}),this.state.blocked?s.jsx("div",{style:{color:"red",fontSize:16,marginTop:20},children:l.I18n.t("Please allow popups in your browser for this page!")}):null,this.state.accessTokens?s.jsx("div",{style:{color:"green",fontSize:16,marginTop:20},children:this.props.alive?l.I18n.t("Successfully authorized. Token valid till %s and will be automatically renewed.",e):l.I18n.t("Successfully authorized. Token valid till %s but it can expire as the instance is not running.",e)}):null,this.state.url?s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{width:"100%",margin:"1rem 0 1rem 0"},children:[s.jsx("span",{style:{marginRight:4},children:`${l.I18n.t("Authorize this app by visiting this url:")}`}),s.jsx("br",{}),s.jsx("a",{target:"_blank",href:this.state.url,rel:"noreferrer",children:this.state.url})]}),s.jsx(h.TextField,{value:this.state.accessTokens,label:l.I18n.t("Enter the code from that page here"),variant:"standard",onChange:t=>{let o=t.target.value;o&&!o.startsWith("{")&&(o=atob(o));try{const c=JSON.parse(o);c.access_token&&(c.access_token_expires_on=new Date(Date.now()+(c.expires_in-10)*1e3).toISOString(),this.setState({accessTokens:JSON.stringify(c)},()=>this.saveToken(this.state.accessTokens)))}catch{}},fullWidth:!0})]}):null]})}}class se extends T{instanceRead;async componentDidMount(){super.componentDidMount();const e=S.ConfigGeneric.getValue(this.props.data,this.props.attr),t=S.ConfigGeneric.getValue(this.props.data,this.props.schema.custom.adapter==="telegram"?"telegramUser":"discordTarget"),c=Object.values(await this.props.oContext.socket.getObjectViewCustom("system","instance",`system.adapter.${this.props.schema.custom.adapter}.`,`system.adapter.${this.props.schema.custom.adapter}.香`)).map(i=>({value:i._id.substring(15),label:i._id.substring(15)}));c.unshift({value:"_",label:"none"}),this.setState({instances:c,instance:e,target:t},()=>{this.readTargets()})}async fillTelegramUser(){var e;if((e=this.state.instance)!=null&&e.startsWith("telegram.")){if(this.instanceRead!==this.state.instance){let t=!1;const o=await this.props.oContext.socket.getObject(`system.adapter.${this.state.instance}`);o&&o.native&&(t=o.native.useUsername);const c=await this.props.oContext.socket.getState(`${this.state.instance}.communicate.users`),i=c==null?void 0:c.val,a=[{value:"allTelegramUsers",label:"All Receiver"}];if(i){this.instanceRead=this.state.target;const r=JSON.parse(i);for(const p in r)t?a.push({value:r[p].userName,label:r[p].userName}):a.push({value:r[p].firstName,label:r[p].firstName})}this.setState({targets:a})}}else this.props.data.telegramUser!=="allTelegramUsers"&&setTimeout(()=>this.props.onChange({...this.props.data,telegramUser:"allTelegramUsers"}),50)}async fillDiscordTarget(){var e;if((e=this.state.instance)!=null&&e.startsWith("discord.")){if(this.instanceRead!==this.state.instance){const t=await this.props.oContext.socket.getState(`system.adapter.${this.state.instance}.alive`);if(t!=null&&t.val){const o=await this.props.oContext.socket.sendTo(this.state.instance,"getNotificationTargets",{});if(Array.isArray(o)){this.instanceRead=this.state.instance;const c=[{value:"_",label:"none"}];for(let i=0;i<o.length;i++)c.push({value:o[i].value,label:o[i].label});this.setState({targets:c})}}}}else{const t=[{value:"_",label:"none"}];this.setState({targets:t}),this.props.data.discordTarget&&setTimeout(()=>this.props.onChange({...this.props.data,discordTarget:""}),50)}}async readTargets(){this.props.schema.custom.adapter==="telegram"?await this.fillTelegramUser():this.props.schema.custom.adapter==="discord"&&await this.fillDiscordTarget()}renderItem(){var o,c;const e=(o=this.state.instances)==null?void 0:o.find(i=>i.value===(this.state.instance||"")),t=(c=this.state.targets)==null?void 0:c.find(i=>i.value===(this.state.target||""));return s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:12,justifyContent:"space-evenly",alignContent:"center",justifyItems:"stretch",gridAutoRows:"1fr"},children:[this.state.instances?s.jsxs(h.FormControl,{style:{width:"100%",marginRight:10},variant:"standard",children:[s.jsx(h.InputLabel,{children:l.I18n.t(this.props.schema.label)}),s.jsx(h.Select,{variant:"standard",value:this.state.instance||"_",renderValue:()=>e?this.getText(e.label,e.label!=="none"):this.state.instance||"",onChange:i=>this.setState({instance:i.target.value==="_"?"":i.target.value},async()=>{await this.readTargets(),await this.onChange(this.props.attr,this.state.instance)}),children:this.state.instances.map((i,a)=>s.jsx(h.MenuItem,{value:i.value,children:this.getText(i.label,(i==null?void 0:i.label)!=="none")},a))}),this.props.schema.help?s.jsx(h.FormHelperText,{children:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}):null]}):null,this.state.targets&&(this.props.schema.custom.adapter==="telegram"||this.props.schema.custom.adapter==="discord")?s.jsxs(h.FormControl,{variant:"standard",children:[s.jsx(h.InputLabel,{children:l.I18n.t(this.props.schema.custom.adapter==="telegram"?"Telegram receiver":"Discord receiver")}),s.jsx(h.Select,{disabled:!this.state.instance,variant:"standard",value:this.state.target||"_",renderValue:()=>t?this.getText(t.label,(t==null?void 0:t.label)!=="none"):this.state.target||"",onChange:i=>this.setState({target:i.target.value==="_"?"":i.target.value},()=>this.onChange(this.props.schema.custom.adapter==="telegram"?"telegramUser":"discordTarget",this.state.target)),children:this.state.targets.map((i,a)=>s.jsx(h.MenuItem,{value:i.value,children:this.getText(i.label,(i==null?void 0:i.label)!=="none")},a))}),this.props.schema.help?s.jsx(h.FormHelperText,{children:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}):null]}):this.props.schema.custom.adapter==="telegram"||this.props.schema.custom.adapter==="discord"?s.jsx(h.TextField,{variant:"standard",disabled:!this.state.instance,label:l.I18n.t(this.props.schema.custom.adapter==="telegram"?"Telegram receiver":"Discord receiver"),value:this.state.target,onChange:i=>this.setState({target:i.target.value},()=>this.onChange(this.props.schema.custom.adapter==="telegram"?"telegramUser":"discordTarget",this.state.target))}):null]})}}var B={exports:{}},oe=B.exports;(function(n,e){(function(t,o){o()})(oe,function(){function t(d,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function o(d,u,x){var m=new XMLHttpRequest;m.open("GET",d),m.responseType="blob",m.onload=function(){p(m.response,u,x)},m.onerror=function(){console.error("could not download file")},m.send()}function c(d){var u=new XMLHttpRequest;u.open("HEAD",d,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function i(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof I=="object"&&I.global===I?I:void 0,r=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(d,u,x){var m=a.URL||a.webkitURL,y=document.createElement("a");u=u||d.name||"download",y.download=u,y.rel="noopener",typeof d=="string"?(y.href=d,y.origin===location.origin?i(y):c(y.href)?o(d,u,x):i(y,y.target="_blank")):(y.href=m.createObjectURL(d),setTimeout(function(){m.revokeObjectURL(y.href)},4e4),setTimeout(function(){i(y)},0))}:"msSaveOrOpenBlob"in navigator?function(d,u,x){if(u=u||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(t(d,x),u);else if(c(d))o(d,u,x);else{var m=document.createElement("a");m.href=d,m.target="_blank",setTimeout(function(){i(m)})}}:function(d,u,x,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof d=="string")return o(d,u,x);var y=d.type==="application/octet-stream",P=/constructor/i.test(a.HTMLElement)||a.safari,O=/CriOS\/[\d]+/.test(navigator.userAgent);if((O||y&&P||r)&&typeof FileReader<"u"){var L=new FileReader;L.onloadend=function(){var A=L.result;A=O?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=A:location=A,m=null},L.readAsDataURL(d)}else{var U=a.URL||a.webkitURL,E=U.createObjectURL(d);m?m.location=E:location.href=E,m=null,setTimeout(function(){U.revokeObjectURL(E)},4e4)}});a.saveAs=p.saveAs=p,n.exports=p})})(B);var ie=B.exports,z={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},F=b.createContext&&b.createContext(z),ne=["attr","size","title"];function re(n,e){if(n==null)return{};var t=ae(n,e),o,c;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(c=0;c<i.length;c++)o=i[c],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(n,o)&&(t[o]=n[o])}return t}function ae(n,e){if(n==null)return{};var t={};for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){if(e.indexOf(o)>=0)continue;t[o]=n[o]}return t}function D(){return D=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},D.apply(this,arguments)}function N(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),t.push.apply(t,o)}return t}function R(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N(Object(t),!0).forEach(function(o){le(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}function le(n,e,t){return e=ce(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ce(n){var e=he(n,"string");return typeof e=="symbol"?e:e+""}function he(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var o=t.call(n,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function q(n){return n&&n.map((e,t)=>b.createElement(e.tag,R({key:t},e.attr),q(e.child)))}function v(n){return e=>b.createElement(pe,D({attr:R({},n.attr)},e),q(n.child))}function pe(n){var e=t=>{var{attr:o,size:c,title:i}=n,a=re(n,ne),r=c||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),b.createElement("svg",D({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,a,{className:p,style:R(R({color:n.color||t.color},t.style),n.style),height:r,width:r,xmlns:"http://www.w3.org/2000/svg"}),i&&b.createElement("title",null,i),n.children)};return F!==void 0?b.createElement(F.Consumer,null,t=>e(t)):e(z)}function de(n){return v({attr:{viewBox:"0 0 528 512"},child:[{tag:"path",attr:{d:"M264.4 116.3l-132 84.3 132 84.3-132 84.3L0 284.1l132.3-84.3L0 116.3 132.3 32l132.1 84.3zM131.6 395.7l132-84.3 132 84.3-132 84.3-132-84.3zm132.8-111.6l132-84.3-132-83.6L395.7 32 528 116.3l-132.3 84.3L528 284.8l-132.3 84.3-131.3-85z"},child:[]}]})(n)}function ue(n){return v({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M339 314.9L175.4 32h161.2l163.6 282.9H339zm-137.5 23.6L120.9 480h310.5L512 338.5H201.5zM154.1 67.4L0 338.5 80.6 480 237 208.8 154.1 67.4z"},child:[]}]})(n)}function M(n){return v({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M640 264v-16c0-8.84-7.16-16-16-16H344v-40h72c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H224c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h72v40H16c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h104v40H64c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h160c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32h-56v-40h304v40h-56c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h160c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32h-56v-40h104c8.84 0 16-7.16 16-16zM256 128V64h128v64H256zm-64 320H96v-64h96v64zm352 0h-96v-64h96v64z"},child:[]}]})(n)}function ge(n){return v({attr:{version:"1.1",viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M5.082 5.593c-0.564 0.564-0.423 1.213 0.564 2.679 0.508 0.761 1.1 1.946 1.326 2.623 0.226 0.705 0.677 1.664 0.987 2.143 0.564 0.79 0.564 0.959 0.197 2.397-0.226 0.902-0.31 2.031-0.197 2.736 0.169 1.185 1.128 2.905 1.72 3.102 0.508 0.169 1.241-0.733 1.269-1.551 0-0.705 0.028-0.733 0.338-0.226 0.536 0.874 2.228 2.735 2.369 2.594 0.056-0.056-0.31-0.79-0.846-1.607-0.508-0.846-1.1-1.946-1.325-2.454-0.31-0.846-0.423-0.902-0.79-0.508-0.226 0.226-0.508 0.874-0.592 1.466-0.226 1.354-0.733 1.523-1.128 0.367s-0.395-3.131 0-4.484c0.282-0.931 0.254-1.184-0.226-1.89-0.31-0.423-0.79-1.438-1.044-2.256-0.254-0.79-0.846-1.974-1.325-2.595-1.1-1.551-1.1-2.115 0.056-1.89 0.479 0.085 1.213 0.423 1.664 0.733 0.423 0.31 1.156 0.564 1.607 0.564 1.354 0 3.723 1.326 5.443 3.046 1.326 1.325 2.002 2.397 3.441 5.302 1.692 3.44 1.833 3.638 2.877 3.976 1.241 0.423 3.835 2.002 3.835 2.341 0 0.113-0.649 0.282-1.438 0.338-2.115 0.226-2.313 0.62-0.931 1.861 0.649 0.564 1.862 1.438 2.736 1.918l1.579 0.902-0.733-0.931c-0.423-0.508-1.297-1.297-1.974-1.72s-1.213-0.874-1.213-0.987c0-0.113 0.479-0.31 1.072-0.395 1.579-0.282 2.030-0.423 2.030-0.705 0-0.423-2.848-2.566-4.202-3.159-1.156-0.536-1.297-0.762-2.792-3.835-1.326-2.82-1.861-3.61-3.553-5.302-2.171-2.171-3.666-3.102-5.584-3.384-0.649-0.113-1.551-0.451-1.946-0.733-0.931-0.705-2.82-0.959-3.272-0.479z"},child:[]}]})(n)}function me(n){return v({attr:{version:"1.1",viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M11.953 23.012c-1.393-0.348-2.169-1.455-2.172-3.099-0.001-0.525 0.037-0.777 0.168-1.115 0.321-0.828 1.173-1.453 2.292-1.683 0.557-0.114 0.729-0.237 0.729-0.522 0-0.089 0.066-0.355 0.147-0.591 0.368-1.070 1.050-1.963 1.779-2.328 0.763-0.382 1.147-0.468 2.070-0.463 1.31 0.007 1.964 0.291 2.878 1.251l0.503 0.528 0.45-0.156c2.18-0.754 4.353 0.53 4.528 2.676l0.048 0.587 0.429 0.154c1.226 0.439 1.802 1.361 1.698 2.717-0.068 0.887-0.483 1.595-1.14 1.946l-0.309 0.165-6.861 0.013c-5.272 0.010-6.948-0.009-7.238-0.081v0zM6.809 22.065c-0.813-0.193-1.675-0.912-2.079-1.733-0.229-0.466-0.241-0.535-0.241-1.359 0-0.784 0.020-0.91 0.202-1.299 0.385-0.821 1.122-1.414 2.047-1.647 0.195-0.049 0.379-0.128 0.408-0.174s0.061-0.301 0.072-0.566c0.064-1.642 1.142-3.089 2.646-3.554 0.813-0.251 1.834-0.189 2.718 0.164 0.28 0.112 0.249 0.136 0.842-0.641 0.351-0.46 1.059-1.032 1.639-1.323 0.626-0.314 1.277-0.459 2.055-0.457 2.176 0.005 4.051 1.366 4.744 3.443 0.222 0.664 0.21 0.849-0.051 0.855-0.114 0.002-0.441 0.065-0.726 0.139l-0.519 0.135-0.473-0.473c-1.335-1.335-3.513-1.623-5.364-0.71-0.74 0.365-1.334 0.888-1.783 1.57-0.32 0.486-0.728 1.394-0.728 1.619 0 0.16-0.129 0.24-0.682 0.421-1.711 0.561-2.709 1.857-2.709 3.515 0 0.604 0.156 1.342 0.371 1.765 0.081 0.16 0.127 0.311 0.101 0.337-0.066 0.066-2.194 0.044-2.489-0.026v0z"},child:[]}]})(n)}function fe(n){return v({attr:{version:"1.1",viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M26.741 18.661c-0.24-0.278-0.65-0.202-0.967-0.139-0.762 0.136-1.591 0.294-2.329-0.023 1.318-2.080 2.355-4.351 2.935-6.748 0.211-0.911 0.374-1.843 0.343-2.781-0.023-0.525-0.096-1.084-0.417-1.519-0.794-1.047-1.945-1.81-3.214-2.151-1.585-0.43-3.285-0.302-4.844 0.18-0.129 0.026-0.256-0.032-0.382-0.048-1.415-0.287-2.975-0.174-4.202 0.645-1.473-0.53-3.056-0.85-4.624-0.686-1.166 0.121-2.337 0.663-3.006 1.656-0.846 1.239-0.961 2.821-0.826 4.273 0.272 1.928 0.742 3.826 1.34 5.677 0.394 1.154 0.828 2.317 1.529 3.325 0.356 0.495 0.829 0.994 1.466 1.072 0.566 0.069 1.078-0.282 1.425-0.698 0.6-0.718 1.217-1.423 1.857-2.105 0.418 0.205 0.872 0.323 1.336 0.358-0.251 0.298-0.458 0.687-0.858 0.804-0.539 0.208-1.17 0.18-1.645 0.539-0.274 0.196-0.287 0.623-0.041 0.848 0.445 0.432 1.101 0.525 1.693 0.575 0.839 0.064 1.687-0.218 2.324-0.768-0.004 1.334 0.002 2.672 0.152 3.999 0.075 0.777 0.41 1.551 1.001 2.074 0.557 0.486 1.351 0.587 2.058 0.464 0.694-0.132 1.407-0.34 1.949-0.814 0.576-0.508 0.822-1.275 0.936-2.011 0.207-1.319 0.364-2.644 0.514-3.969 1.483 0.25 3.161-0.034 4.269-1.117 0.237-0.223 0.462-0.609 0.228-0.912zM23.45 6.117c0.89 0.338 1.681 0.925 2.275 1.668 0.283 0.355 0.319 0.832 0.337 1.268 0.013 1.040-0.197 2.067-0.464 3.067-0.511 1.851-1.287 3.625-2.262 5.277-0.096 0.163-0.201 0.32-0.317 0.469-0.009-0.045-0.027-0.137-0.036-0.183 0.121-0.318 0.298-0.618 0.367-0.956 0.244-0.953 0.038-1.934-0.050-2.893-0.092-0.905 0.217-1.786 0.209-2.689 0.035-0.442-0.14-0.86-0.31-1.257-0.615-1.375-1.593-2.598-2.848-3.438-0.306-0.21-0.648-0.357-0.953-0.568 1.334-0.286 2.765-0.25 4.051 0.234zM22.637 13.836c0.078 1.071 0.389 2.221-0.116 3.237-0.677-1.347-1.552-2.633-1.857-4.133-0.086-0.477-0.108-1.081 0.316-1.413 0.538-0.382 1.241-0.296 1.863-0.258-0.027 0.859-0.291 1.702-0.205 2.567zM10.534 20.181c-0.243 0.286-0.571 0.627-0.985 0.542-0.484-0.14-0.792-0.582-1.062-0.979-0.729-1.166-1.168-2.483-1.571-3.79-0.451-1.547-0.831-3.119-1.050-4.717-0.109-1.216-0.041-2.52 0.581-3.603 0.466-0.82 1.335-1.343 2.248-1.514 1.462-0.281 2.961 0.017 4.364 0.445-0.619 0.68-1.101 1.481-1.382 2.358-0.383 1.171-0.558 2.417-0.466 3.648 0.053 0.867 0.030 1.738-0.091 2.598-0.152 1.123 0.299 2.278 1.133 3.036-0.568 0.664-1.17 1.297-1.72 1.977zM11.814 16.158c-0.143-0.636 0.044-1.276 0.065-1.913 0.049-0.721-0.002-1.443-0.016-2.164 0.674-0.436 1.462-0.777 2.279-0.73 0.423 0.018 0.813 0.317 0.915 0.734 0.371 1.477 0.486 3.121-0.225 4.52-0.248 0.54-0.449 1.099-0.622 1.666-1.182 0.012-2.187-0.987-2.396-2.112zM15.492 20.112c-0.742 1.005-2.227 1.197-3.3 0.65 0.529-0.245 1.148-0.226 1.659-0.528 0.494-0.266 0.69-0.851 1.152-1.152 0.503-0.071 0.87 0.676 0.49 1.029zM21.856 18.938c-0.282 0.454-0.183 1.008-0.252 1.512-0.162 1.413-0.321 2.828-0.551 4.232-0.109 0.673-0.395 1.388-1.030 1.723-0.651 0.331-1.407 0.539-2.139 0.426-0.695-0.122-1.133-0.77-1.33-1.401-0.144-0.529-0.159-1.082-0.2-1.627-0.070-1.315-0.071-2.633-0.037-3.949 0.029-0.514-0.235-1.049-0.694-1.299-0.222-0.125-0.482-0.142-0.73-0.162 0.195-0.967 0.784-1.802 0.986-2.768 0.262-1.195 0.117-2.439-0.151-3.619-0.131-0.589-0.579-1.11-1.175-1.253-0.918-0.231-1.844 0.128-2.665 0.512 0.104-1.334 0.461-2.7 1.278-3.783 0.601-0.806 1.533-1.344 2.528-1.473 1.642-0.209 3.366 0.243 4.671 1.27 1.078 0.852 1.93 2.006 2.389 3.304-0.763-0.027-1.628-0.058-2.245 0.472-0.56 0.472-0.632 1.277-0.506 1.953 0.292 1.608 1.241 2.975 1.941 4.421 0.186 0.339 0.436 0.635 0.674 0.939-0.283 0.143-0.599 0.28-0.76 0.571zM23.82 20.075c-0.504 0.060-1.028 0.078-1.514-0.089 0.002-0.275-0.013-0.601 0.208-0.806 0.175-0.129 0.424-0.248 0.626-0.107 0.86 0.453 1.86 0.232 2.775 0.121-0.559 0.544-1.333 0.798-2.095 0.881zM21.178 11.728c-0.179 0.147 0.014 0.367 0.168 0.436 0.373 0.219 0.884-0.087 0.896-0.513-0.337-0.157-0.76-0.141-1.065 0.077zM14.576 12.408c0.159-0.090 0.327-0.337 0.143-0.486-0.262-0.213-0.643-0.254-0.962-0.168-0.103 0.036-0.211 0.106-0.19 0.232 0.074 0.428 0.647 0.688 1.008 0.422z"},child:[]}]})(n)}function xe(n){return v({attr:{version:"1.1",viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M14.824 7.518c0 0.007 0.103 0.202 0.232 0.441 0.126 0.235 0.219 0.437 0.205 0.447s-0.371 0.146-0.792 0.295c-0.424 0.152-0.765 0.282-0.759 0.288s0.487 0.056 1.067 0.109c0.699 0.066 1.067 0.113 1.093 0.139 0.023 0.023 0.182 0.282 0.358 0.57l0.315 0.53 0.056-0.133c0.030-0.070 0.126-0.302 0.215-0.51l0.156-0.381 0.841-0.089c0.46-0.050 0.871-0.089 0.914-0.089 0.040-0.003 0.073-0.013 0.073-0.030 0-0.013-0.311-0.142-0.696-0.285-0.381-0.142-0.696-0.265-0.696-0.268s0.083-0.205 0.182-0.447 0.175-0.447 0.169-0.454c-0.007-0.010-0.331 0.089-0.715 0.215l-0.702 0.229-0.745-0.295c-0.732-0.288-0.772-0.301-0.772-0.282zM19.452 10.038c-0.891 0.354-1.623 0.649-1.63 0.656s0.656 0.275 1.474 0.6l1.484 0.586 0.159-0.063c1.653-0.643 3.157-1.242 3.15-1.249-0.023-0.027-2.948-1.172-2.981-1.172-0.023 0.003-0.768 0.291-1.656 0.643zM10.899 9.694c-0.855 0.089-1.573 0.338-1.878 0.653-0.209 0.215-0.242 0.398-0.113 0.619 0.192 0.331 0.822 0.61 1.693 0.752 0.391 0.066 1.54 0.056 1.938-0.013 0.931-0.162 1.534-0.46 1.676-0.835 0.053-0.139 0.053-0.159 0-0.295-0.139-0.364-0.732-0.666-1.61-0.818-0.444-0.076-1.272-0.106-1.706-0.063zM26.819 10.724c-0.043 0.056-0.202 0.182-0.354 0.285-0.451 0.291-1.034 0.556-4.651 2.113-2.544 1.093-3.193 1.381-4.074 1.805-0.977 0.467-1.381 0.596-1.872 0.596-0.441 0-0.702-0.076-1.524-0.441-0.328-0.146-1.67-0.709-2.981-1.255-5.734-2.385-5.84-2.435-6.148-2.766l-0.129-0.142v2.256l0.146 0.139c0.139 0.136 0.613 0.421 0.782 0.47 0.046 0.013 0.358 0.142 0.696 0.288s1.984 0.835 3.66 1.534c2.773 1.156 3.405 1.421 4.349 1.835 0.5 0.222 0.778 0.278 1.249 0.262 0.345-0.013 0.447-0.033 0.749-0.136 0.195-0.066 0.533-0.209 0.752-0.318 0.719-0.361 1.59-0.745 5.058-2.239 3.263-1.408 3.687-1.603 4.041-1.848 0.364-0.258 0.348-0.195 0.348-1.451 0-0.6-0.003-1.090-0.010-1.090s-0.043 0.046-0.086 0.103zM15.397 12.195c-1.335 0.205-2.441 0.381-2.461 0.388-0.030 0.010 3.326 1.421 3.468 1.457 0.033 0.010 1.534-2.15 1.534-2.206 0-0.030 0.003-0.033-2.541 0.361zM26.838 14.428c-0.030 0.050-0.169 0.172-0.305 0.268-0.434 0.298-1.086 0.596-5.052 2.302-2.282 0.984-2.998 1.299-3.677 1.63-1.1 0.533-1.365 0.619-1.954 0.616-0.457-0.003-0.739-0.076-1.345-0.351-0.583-0.268-1.236-0.543-3.856-1.63-4.558-1.891-5.085-2.127-5.406-2.438l-0.159-0.149v2.219l0.179 0.169c0.292 0.272 0.262 0.258 5.154 2.296 1.795 0.745 3.488 1.457 3.76 1.58 0.722 0.325 0.931 0.401 1.216 0.46 0.666 0.136 1.159 0.026 2.239-0.5 0.702-0.341 1.56-0.722 3.637-1.616 3.948-1.703 4.922-2.14 5.21-2.332 0.103-0.073 0.242-0.189 0.311-0.265l0.123-0.136v-1.11c0-0.61-0.003-1.11-0.010-1.11-0.003 0-0.033 0.043-0.066 0.096zM26.802 18.061c-0.262 0.328-0.785 0.58-4.856 2.332-2.657 1.146-3.465 1.504-4.339 1.921-0.918 0.437-1.219 0.53-1.749 0.53-0.361 0-0.729-0.086-1.136-0.265-0.951-0.417-1.577-0.682-4.353-1.838-3.157-1.315-4.167-1.742-4.505-1.911-0.315-0.159-0.636-0.384-0.709-0.5l-0.070-0.106v1.13c0 1.295-0.023 1.199 0.325 1.434 0.384 0.258 0.954 0.51 4.744 2.083 2.65 1.1 3.604 1.501 4.074 1.713 0.961 0.431 1.216 0.5 1.752 0.47 0.49-0.023 0.812-0.129 1.66-0.533 0.884-0.424 1.537-0.715 4.422-1.958 4.008-1.726 4.442-1.934 4.747-2.286l0.106-0.119v-1.106c0-0.61-0.003-1.11-0.007-1.11-0.007 0-0.053 0.053-0.106 0.119z"},child:[]}]})(n)}function ve(n){return v({attr:{version:"1.1",viewBox:"0 0 34 32"},child:[{tag:"path",attr:{d:"M21.576 3.59c-1.115-0.994-2.465-0.595-3.798 0.588-0.198 0.176-0.395 0.371-0.591 0.579-2.279 2.418-4.395 6.897-5.053 10.318 0.256 0.519 0.456 1.182 0.588 1.688 0.034 0.13 0.064 0.252 0.089 0.355 0.058 0.245 0.089 0.405 0.089 0.405s-0.020-0.077-0.104-0.321c-0.016-0.047-0.034-0.098-0.055-0.158-0.009-0.025-0.021-0.055-0.035-0.087-0.149-0.346-0.56-1.075-0.741-1.393-0.155 0.457-0.292 0.884-0.406 1.271 0.523 0.956 0.841 2.595 0.841 2.595s-0.028-0.106-0.159-0.477c-0.117-0.328-0.697-1.345-0.835-1.583-0.235 0.869-0.329 1.455-0.244 1.598 0.164 0.277 0.32 0.754 0.457 1.282 0.309 1.189 0.524 2.637 0.524 2.637s0.007 0.096 0.019 0.244c-0.043 0.999-0.017 2.034 0.060 2.97 0.103 1.239 0.295 2.303 0.541 2.873l0.167-0.091c-0.361-1.122-0.508-2.593-0.444-4.289 0.097-2.593 0.694-5.719 1.796-8.978 1.863-4.919 4.447-8.866 6.811-10.751-2.155 1.947-5.073 8.248-5.946 10.581-0.978 2.613-1.671 5.065-2.088 7.414 0.721-2.202 3.050-3.149 3.050-3.149s1.143-1.409 2.478-3.422c-0.8 0.182-2.113 0.495-2.553 0.68-0.649 0.272-0.824 0.365-0.824 0.365s2.102-1.28 3.905-1.86c2.48-3.906 5.182-9.456 2.461-11.884z"},child:[]}]})(n)}function ye(n){return v({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.253 2.755c-.676 0-1.231.555-1.231 1.232v.976h-.083a.722.722 0 00-.717.716v11.682H.71v-.57h3.544a.355.355 0 00.354-.354v-1.279a.355.355 0 00-.354-.355H.709v-.565h3.544a.355.355 0 00.354-.355v-1.278a.355.355 0 00-.354-.355H.709v-.569h3.544a.355.355 0 00.354-.355V10.05a.355.355 0 00-.354-.354H.709V6.113a.355.355 0 00-.355-.355.355.355 0 00-.354.355v3.937a.355.355 0 00.354.355h3.544v.566H.354a.355.355 0 00-.354.355v1.279a.355.355 0 00.354.354h3.544v.57H.354a.355.355 0 00-.354.354v1.275a.355.355 0 00.354.355h3.544v.57H.354a.355.355 0 00-.354.354v1.278a.355.355 0 00.354.355h4.868v.086c0 .389.323.716.717.716h.083v1.14c0 .677.555 1.233 1.231 1.233.677 0 1.233-.556 1.233-1.232v-1.14h.477v1.137c0 .676.556 1.232 1.232 1.232.677 0 1.232-.556 1.232-1.232v-1.138h.481v1.138c0 .676.556 1.232 1.232 1.232.676 0 1.233-.556 1.233-1.232v-1.138h.48v1.138c0 .676.556 1.232 1.232 1.232.677 0 1.232-.556 1.232-1.232v-1.138h.481v1.138c0 .676.556 1.232 1.232 1.232.676 0 1.233-.556 1.233-1.232v-1.138h.477v1.138c0 .676.555 1.232 1.231 1.232.677 0 1.233-.556 1.233-1.232v-1.138h.079c.39 0 .717-.323.717-.716V5.679a.723.723 0 00-.714-.716h-.082v-.979c0-.676-.556-1.231-1.232-1.23h-.001c-.676.001-1.231.557-1.231 1.233v.976h-.477v-.98c0-.675-.557-1.23-1.233-1.228h-.001c-.676 0-1.23.556-1.23 1.232v.976h-.482v-.976c0-.677-.555-1.232-1.232-1.232-.676 0-1.232.555-1.232 1.232v.976h-.48v-.976c0-.677-.557-1.232-1.233-1.232s-1.232.555-1.232 1.232v.976h-.48v-.976c0-.677-.556-1.232-1.233-1.232-.676 0-1.232.555-1.232 1.232v.976h-.477v-.976c0-.677-.556-1.232-1.233-1.232zm0 .715a.51.51 0 01.517.517v.976H6.737v-.976a.51.51 0 01.516-.517zm2.942 0a.51.51 0 01.517.517v.976H9.679v-.976a.51.51 0 01.516-.517zm2.945 0a.51.51 0 01.516.517v.976h-1.032v-.976a.51.51 0 01.516-.517zm2.945 0a.51.51 0 01.517.517v.976h-1.033v-.976a.51.51 0 01.516-.517zm2.945 0h.001a.507.507 0 01.515.513v.98h-1.032v-.976a.51.51 0 01.516-.517zm2.942.001h.001a.507.507 0 01.515.513v.979h-1.032v-.976a.51.51 0 01.516-.516zM6.018 5.758h17.186v12.319H6.018zm8.63 2.777a.322.322 0 00-.234.095l-3.776 3.78a.322.322 0 00.228.55h.62v2.225a.322.322 0 00.323.322h5.67a.322.322 0 00.322-.322V12.96h.621a.322.322 0 00.228-.55l-.856-.859v-1.533a.322.322 0 00-.322-.323h-.591a.322.322 0 00-.323.323v.3L14.87 8.63a.322.322 0 00-.221-.095zm-7.91 10.337H7.77v1.14a.51.51 0 01-.517.517.51.51 0 01-.516-.516zm2.94 0h1.034v1.138a.51.51 0 01-.517.516.51.51 0 01-.516-.516zm2.946 0h1.032v1.138a.51.51 0 01-.516.516.51.51 0 01-.516-.516zm2.945 0h1.033v1.138a.51.51 0 01-.517.516.51.51 0 01-.516-.516zm2.945 0h1.032v1.138a.51.51 0 01-.516.516.51.51 0 01-.516-.516zm2.941 0h1.033v1.138a.51.51 0 01-.517.516.51.51 0 01-.516-.516z"},child:[]}]})(n)}function be(n){return v({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.02 10.59a8.578 8.578 0 0 0-.862-3.034 8.911 8.911 0 0 0-1.789-2.445c.337-1.342-.413-2.505-.413-2.505-1.292-.08-2.113.4-2.416.62-.052-.02-.102-.044-.154-.064-.22-.089-.446-.172-.677-.247-.231-.073-.47-.14-.711-.197a9.867 9.867 0 0 0-.875-.161C14.557.753 12.94 0 12.94 0c-1.804 1.145-2.147 2.744-2.147 2.744l-.018.093c-.098.029-.2.057-.298.088-.138.042-.275.094-.413.143-.138.055-.275.107-.41.166a8.869 8.869 0 0 0-1.557.87l-.063-.029c-2.497-.955-4.716.195-4.716.195-.203 2.658.996 4.33 1.235 4.636a11.608 11.608 0 0 0-.607 2.635C1.636 12.677.953 15.014.953 15.014c1.926 2.214 4.171 2.351 4.171 2.351.003-.002.006-.002.006-.005.285.509.615.994.986 1.446.156.19.32.371.488.548-.704 2.009.099 3.68.099 3.68 2.144.08 3.553-.937 3.849-1.173a9.784 9.784 0 0 0 3.164.501h.08l.055-.003.107-.002.103-.005.003.002c1.01 1.44 2.788 1.646 2.788 1.646 1.264-1.332 1.337-2.653 1.337-2.94v-.058c0-.02-.003-.039-.003-.06.265-.187.52-.387.758-.6a7.875 7.875 0 0 0 1.415-1.7c1.43.083 2.437-.885 2.437-.885-.236-1.49-1.085-2.216-1.264-2.354l-.018-.013-.016-.013a.217.217 0 0 1-.031-.02c.008-.092.016-.18.02-.27.011-.162.016-.323.016-.48v-.253l-.005-.098-.008-.135a1.891 1.891 0 0 0-.01-.13c-.003-.042-.008-.083-.013-.125l-.016-.124-.018-.122a6.215 6.215 0 0 0-2.032-3.73 6.015 6.015 0 0 0-3.222-1.46 6.292 6.292 0 0 0-.85-.048l-.107.002h-.063l-.044.003-.104.008a4.777 4.777 0 0 0-3.335 1.695c-.332.4-.592.84-.768 1.297a4.594 4.594 0 0 0-.312 1.817l.003.091c.005.055.007.11.013.164a3.615 3.615 0 0 0 .698 1.82 3.53 3.53 0 0 0 1.827 1.282c.33.098.66.14.971.137.039 0 .078 0 .114-.002l.063-.003c.02 0 .041-.003.062-.003.034-.002.065-.007.099-.01.007 0 .018-.003.028-.003l.031-.005.06-.008a1.18 1.18 0 0 0 .112-.02c.036-.008.072-.013.109-.024a2.634 2.634 0 0 0 .914-.415c.028-.02.056-.041.085-.065a.248.248 0 0 0 .039-.35.244.244 0 0 0-.309-.06l-.078.042c-.09.044-.184.083-.283.116a2.476 2.476 0 0 1-.475.096c-.028.003-.054.006-.083.006l-.083.002c-.026 0-.054 0-.08-.002l-.102-.006h-.012l-.024.006c-.016-.003-.031-.003-.044-.006-.031-.002-.06-.007-.091-.01a2.59 2.59 0 0 1-.724-.213 2.557 2.557 0 0 1-.667-.438 2.52 2.52 0 0 1-.805-1.475 2.306 2.306 0 0 1-.029-.444l.006-.122v-.023l.002-.031c.003-.021.003-.04.005-.06a3.163 3.163 0 0 1 1.352-2.29 3.12 3.12 0 0 1 .937-.43 2.946 2.946 0 0 1 .776-.101h.06l.07.002.045.003h.026l.07.005a4.041 4.041 0 0 1 1.635.49 3.94 3.94 0 0 1 1.602 1.662 3.77 3.77 0 0 1 .397 1.414l.005.076.003.075c.002.026.002.05.002.075 0 .024.003.052 0 .07v.065l-.002.073-.008.174a6.195 6.195 0 0 1-.08.639 5.1 5.1 0 0 1-.267.927 5.31 5.31 0 0 1-.624 1.13 5.052 5.052 0 0 1-3.237 2.014 4.82 4.82 0 0 1-.649.066l-.039.003h-.287a6.607 6.607 0 0 1-1.716-.265 6.776 6.776 0 0 1-3.4-2.274 6.75 6.75 0 0 1-.746-1.15 6.616 6.616 0 0 1-.714-2.596l-.005-.083-.002-.02v-.056l-.003-.073v-.096l-.003-.104v-.07l.003-.163c.008-.22.026-.45.054-.678a8.707 8.707 0 0 1 .28-1.355c.128-.444.286-.872.473-1.277a7.04 7.04 0 0 1 1.456-2.1 5.925 5.925 0 0 1 .953-.763c.169-.111.343-.213.524-.306.089-.05.182-.091.273-.135.047-.02.093-.042.138-.062a7.177 7.177 0 0 1 .714-.267l.145-.045c.049-.015.098-.026.148-.041.098-.029.197-.052.296-.076.049-.013.1-.02.15-.033l.15-.032.151-.028.076-.013.075-.01.153-.024c.057-.01.114-.013.171-.023l.169-.021c.036-.003.073-.008.106-.01l.073-.008.036-.003.042-.002c.057-.003.114-.008.171-.01l.086-.006h.023l.037-.003.145-.007a7.999 7.999 0 0 1 1.708.125 7.917 7.917 0 0 1 2.048.68 8.253 8.253 0 0 1 1.672 1.09l.09.077.089.078c.06.052.114.107.171.159.057.052.112.106.166.16.052.055.107.107.159.164a8.671 8.671 0 0 1 1.41 1.978c.012.026.028.052.04.078l.04.078.075.156c.023.051.05.1.07.153l.065.15a8.848 8.848 0 0 1 .45 1.34.19.19 0 0 0 .201.142.186.186 0 0 0 .172-.184c.01-.246.002-.532-.024-.856z"},child:[]}]})(n)}function Se(n){return v({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.778 14.482l-2.287-9.959c-.13-.545-.624-1.09-1.169-1.248L9.87.051C9.74 0 9.584 0 9.426 0c-.443 0-.909.18-1.222.443L.716 7.412C.3 7.776.092 8.504.222 9.024l2.445 10.662c.13.545.624 1.092 1.169 1.248l9.775 3.015c.13.051.285.051.443.051.443 0 .91-.18 1.223-.443l8.007-7.435c.418-.39.624-1.092.494-1.64zM10.962 2.417l7.175 2.21c.285.08.285.21 0 .286l-3.77.858c-.285.08-.674-.05-.883-.26l-2.626-2.834c-.235-.232-.184-.336.104-.26zm4.47 12.872c.079.286-.105.444-.39.365l-7.748-2.392c-.285-.079-.338-.313-.13-.52l5.93-5.514c.209-.209.443-.13.52.156zM2.667 8.267l6.293-5.85c.21-.209.545-.18.754.025L12.86 5.85c.209.21.18.545-.026.754l-6.293 5.85c-.21.21-.545.181-.754-.025L2.64 9.024a.536.536 0 01.026-.757zm1.536 9.284L2.54 10.244c-.08-.285.05-.34.234-.13L5.4 12.949c.209.209.285.624.209.909L4.462 17.55c-.079.285-.208.285-.26 0zm9.202 4.264l-8.217-2.522a.547.547 0 01-.364-.675l1.378-4.421a.547.547 0 01.675-.365l8.216 2.522c.285.079.443.39.364.675L14.08 21.45a.553.553 0 01-.674.365zm7.279-5.98L15.2 20.93c-.209.209-.31.13-.234-.155l1.144-3.694c.079-.285.39-.573.674-.624l3.77-.858c.288-.076.339.054.13.234zm.598-1.09l-4.523 1.039a.534.534 0 01-.65-.39l-1.922-8.372a.534.534 0 01.39-.65L19.1 5.335a.534.534 0 01.649.39l1.923 8.371c.079.31-.102.596-.39.65Z"},child:[]}]})(n)}function ke(n){return v({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.018 6.537c-2.5 0-4.6 1.712-5.241 4.015-.56-1.232-1.793-2.105-3.225-2.105A3.569 3.569 0 0 0 0 12a3.569 3.569 0 0 0 3.552 3.553c1.432 0 2.664-.874 3.224-2.106.641 2.304 2.742 4.016 5.242 4.016 2.487 0 4.576-1.693 5.231-3.977.569 1.21 1.783 2.067 3.198 2.067A3.568 3.568 0 0 0 24 12a3.569 3.569 0 0 0-3.553-3.553c-1.416 0-2.63.858-3.199 2.067-.654-2.284-2.743-3.978-5.23-3.977zm0 2.085c1.878 0 3.378 1.5 3.378 3.378 0 1.878-1.5 3.378-3.378 3.378A3.362 3.362 0 0 1 8.641 12c0-1.878 1.5-3.378 3.377-3.378zm-8.466 1.91c.822 0 1.467.645 1.467 1.468s-.644 1.467-1.467 1.468A1.452 1.452 0 0 1 2.085 12c0-.823.644-1.467 1.467-1.467zm16.895 0c.823 0 1.468.645 1.468 1.468s-.645 1.468-1.468 1.468A1.452 1.452 0 0 1 18.98 12c0-.823.644-1.467 1.467-1.467z"},child:[]}]})(n)}function Ae(n){return v({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 0C1.338 0 0 1.338 0 3v6.107h2.858c1.092 0 1.97.868 1.964 1.96v.021c.812-.095 1.312-.352 1.674-.683.416-.382.69-.91 1.016-1.499.325-.59.71-1.244 1.408-1.723.575-.395 1.355-.644 2.384-.686v-.45c0-1.092.88-1.976 1.972-1.976h7.893c1.091 0 1.974.884 1.974 1.976v1.942c0 1.091-.883 2.029-1.974 2.029h-7.893c-1.092 0-1.972-.938-1.972-2.03v-.453c-.853.037-1.408.236-1.798.504-.48.33-.774.802-1.086 1.368-.312.565-.63 1.22-1.222 1.763l-.077.069c3.071.415 4.465 1.555 5.651 2.593 1.39 1.215 2.476 2.275 6.3 2.288v-.46c0-1.092.894-1.946 1.986-1.946H24V3c0-1.662-1.338-3-3-3zm10.276 5.41c-.369 0-.687.268-.687.637v1.942c0 .368.318.636.687.636h7.892a.614.614 0 0 0 .635-.636V6.047a.614.614 0 0 0-.635-.636zM0 10.448v3.267h2.858a.696.696 0 0 0 .678-.69v-1.942c0-.368-.31-.635-.678-.635zm4.821 1.67v.907A1.965 1.965 0 0 1 2.858 15H0v6c0 1.662 1.338 3 3 3h18c1.662 0 3-1.338 3-3v-1.393h-2.942c-1.092 0-1.986-.913-1.986-2.005v-.445c-4.046-.032-5.598-1.333-6.983-2.544-1.437-1.257-2.751-2.431-7.268-2.496zM21.058 15a.644.644 0 0 0-.647.66v1.942c0 .368.278.612.647.612H24V15z"},child:[]}]})(n)}function Ce(n){return v({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.988 0a11.85 11.85 0 00-8.617 3.696c7.02-.875 11.401-.583 13.289-.34 3.752.583 3.558 3.404 3.558 3.404L8.237 19.112c2.299.22 6.897.366 13.796-.631a11.86 11.86 0 001.912-6.469C23.945 5.374 18.595 0 11.988 0zm.232 4.31c-2.451-.014-5.772.146-9.963.723C.854 7.003.055 9.41.055 12.012.055 18.626 5.38 24 11.988 24c3.63 0 6.85-1.63 9.053-4.182-7.286.948-11.813.631-13.75.388-3.775-.56-3.557-3.404-3.557-3.404L15.691 4.474a38.635 38.635 0 00-3.471-.163Z"},child:[]}]})(n)}const we=""+new URL("ccu-DJclZqBW.png",import.meta.url).href,Te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAAjjSURBVHhe7Zt7bFtXHccDjA0QKkMjuX5cPxKnTcPabU2aNE1b0vo+fO28SNMsQMPWVagblMwk92U7KY5WOq3aRhXYYq8b2ta9oCBA24gYYyyw0byqdiDEIgRSBZ0ESF0EovsDaTLnNL+rOMnP14/YNy3aR/r+Y39/557z873ncc9x2QdYyBeemW1tSEy9uiU5PbEzOXW5aWzq/abkTGrb2JvvNZ+c+X1dYop+fh/Yr136R8fXeQLKATunnNraOxyGj8u6X/jdSH3ybMpMdYnZCbBfwRPUZzyBSLQ2NOSBj65ePtseqWYF/TGGV9+t4LUUVW2nHoOvC0qAUQ6VQ9Qnaj8/fDt8dfXgaQl7WSn6/fTKGipmAgzZeeVCpah8CSxrR0tP/JMOXj1uF1dW0lApEmCIDWhTvrZYHVitxdd2ZDvjl/+CVSxdpUwAlU3QUl4pcgzs1lDhl2UGqQymUifAECuok80HjzsgrDT09MSvd0r68xW8ilYCk1UJoHIG9H94QsptEFpcGvfH1/k6ht/ELmymJQl4/q2DDWOTE02PzTzQkJge2fHomejOR3+jbR+bPLIlMTuyIzn5062Jme+A/QpYmWZiOHXeIQ1vgfDi0NISv84bik5iF8ymmjblbiimIJyi9l+sXFORJLgDRewc7aL+AnqhDCLjNRmqBp/avO++GiiiYBql/nXVHcNhMre4iF0rk+idsLFV3gTFFI5LVI9jF8ikylDk525BroTwjPSP/2ldZ+L13dyJV3f3nTpTHU+lPgxfofSPjt7ACoNaOWkYdl1MNkGf87TceSMUkT+V4mAbVjAm8gvNb9t/rA9CUbqeObevMTk7Q57zVF1yloh0eqD6xNlUQ3L6AukbToAdxRMIe52C+gZWh5VSUy5JH4fQ/HDvjHzaJuSWbYaTz5NOkoXQjHQ/l/8okAmXlPud6Qsp/RCWO66A9mOssOUiQ88rns5wTrdZIcOgGQ7/4IFc5iPE86/1rQNOCMuOO6DwFRxeWLoq22Nv1B869FEIy0qxE0Bh/OEDWN2Wyy1ppyEkO05eO48Vki4b8VSTHhpCcqIUCaC4RU3B6rhctR3yNgjJjC+k3Y4FLxEnz9/SG98AITlTqgRQGF7+EVrXNLFS5GWwZ4bhlV9jwena1DV0F9jzopQJIEvyGxlOeQerb7pqOtTMc5PNXbE6LChdNl75BdjzppQJoNyyd6Q32zqFDIsnwb4St6QnsaB0OYKDed/6BqVOAMXGKb/C6m2IzBAvgXUlDkH9JxZkiPGrT4O1IKxIQHVQE7LdBVWtehfYF6ngDm/GzOmq7VR3gb0grEgAxc4pf8Tqb4jcJd8F6yKeUGQIMxsiw94cWAvGqgSwUrQfa4Mhm6D9GayLkM7tRcxsyCvp94O1YKxKAFkAebE2LEpNSXcdKwf7As6A9lfcTKWnGvvifrAWjFUJoDhFfQ5vy4KcoroHrPRVV8/1mMmQjZdT2ZaruWBlArytQ49jbTHkCshRsJaV3dypNdNfGTNSuaTIW2BdFVYmwCUqkXKkLYZcUuwhsJaV3cTJuxkucwLsgvZLsK4KKxPAiNE9ZsOhM6AuTuhqu4dN5/9sMPZtsK4KKxPg4cK7TecDfmXxOrY94TtQE1E5KeQmTh8B66qwMgHSPQ80Ye0xVM4tScDA/18C+h82TUBFegI2dEdNHwF369C19wgE5NwfgWydoE2Qr71OsEU3TYBTVBbbVN87RMy4kcodjF5zw6BbUFWzYdApRRaHQUkavQEzGSKLh1RZKvUhsBeMlQkgDXwEa4shp5A2EaLYBOVvmHFBemp960AjWAvGygRU+OVzeFsW5GuNBcC6gCuoT2BGQ55g5ChYC8aqBNzaGfYyQgRth6Gu/tGl+xhkbjyCGQ05BO1tsBaMVQkgHfpBrA2GHAH9IlgXIaunWzFzurb3HW0Ge0FYlQCydjF9IUKmwU+AdSkMb/5KzM6rT4G1IKxIQGWrustsYUfFCgMrX4lR7Lyc5aWommJ2fT3rzm8mrEhAhX/wNbzuC6JH+OJPvv4xsC9lY3vMfPpI5BCU7JsLGSh1Aja2D2fdzbZxcubX4hSGy7717AvFOsGeF6VMQBWvf8ouahew+qarSshyaMLLy1/GAtNlF9X5XLbDl1PKBLgDGnpQM13uUCS3sllBM32fRkWyfa6+7dAnICQnSpUAu3/wK1gdl0pPsXu+9jkIMcfBfYPHC1kqNqD/kNhzniKXIgFu4d4+rG7LxQrKSxCSG3ZeeQkraLnYYOQHTQMPfxzCTCl2AnxB5Q56UhSr1xJx2r/p0RoIy40aXnXQ42ZogctkF5RJujsLoRmhR2SunAcyUV3ibE4JYEVZNl3vp2l9R3QYwvLD1xbpxQrEZOO1S6SHNd076H76t1vqk9P3NySmJhqTs1ONY1MXG6iS9M8S0xPNyZnnmk5O7wc7yqb2exlW1H5mttRNl4PXXoPQwnBLWgIrOJM8Ae3ZHT1xN4QXlaqgeo9N1HI+JucJDr27qmNyFLoh4hDVV7ALZBLDa5cdgnpi253x/J47hHg8fh2ZfNHDUG9j18qkck6b9wjh4pwbpqc1bbyc9dzQSpFnlFNfpC9dOw7nd5L7tt4jwarWyBOkk/s7XraJOPU/TklrgqKKA+3knGL2w1OZRH4R+ip6jvyaPynn1JGazqERktS9Tl7bu6Hrm4cZTh5xh6Lfs/PalF2kixnzBU0mkYRddvODHFS7uNBTYWTYM91FXksxfvlSuVCi4/LpVHcMPYRVYC3F+NXzzb1HfVDF0lPbORyy8Ur+z2cJZOfUB0lvuerd67yh/YJX0p7MdUJSbJG+4rxL0ndCddYOV0C7mUydx7FKlkKkw3ynKhS9mwyR1v/qZmzqjm21+5VTdBjCKr5asaL+B4cQPnD69OmPwCWvTlq+GP+MS1S+6pYi4+TOeB9rTK4iQ++cK6g+6NgTXvW/T9YMN1kjsKKieEOxZ+murCsYuUiP3SycSKf9h5IiyXqPEbQzdk55mRX0b1V3xPe1FGEm+QGmlJX9D+W1BQuyW+9iAAAAAElFTkSuQmCC",Ie=""+new URL("history-DK5tzdjc.png",import.meta.url).href,je=""+new URL("zigbee2mqtt-tDEKhm15.png",import.meta.url).href,De="data:image/png;base64,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",Re="data:image/png;base64,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",Le="data:image/png;base64,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";function Ee(n){return n>1024*1024*512?`${Math.round(n/(1024*1024*1024)*10)/10}${l.I18n.t("GiB")}`:n>1024*1024?`${Math.round(n/(1024*1024)*10)/10}${l.I18n.t("MiB")}`:n>1024?`${Math.round(n/1024*10)/10}${l.I18n.t("KiB")}`:`${n} ${l.I18n.t("bytes")}`}function Be(n){const e=n.split("_");return parseInt(e[0],10).toString()!==e[0]&&e.shift(),new Date(parseInt(e[0],10),parseInt(e[1],10)-1,parseInt(e[2].split("-")[0],10),parseInt(e[2].split("-")[1],10),parseInt(e[3],10)).toLocaleString().replace(/:00$/,"")}const C={local:f.Save,cifs:M,dropbox:de,ftp:M,googledrive:ue,onedrive:me,webdav:ke,iobroker:Te,historyDB:Ie,ccu:we,javascripts:De,nodered:Ae,influxDB:Se,zigbee:Ce,zigbee2mqtt:je,grafana:be,esphome:ye,jarvis:Re,redis:xe,mysql:ge,sqlite:ve,pgsql:fe,yahka:Le};function W(n){if(!C[n])return null;if(typeof C[n]=="object"||typeof C[n]=="function"){const e=C[n];return s.jsx(e,{style:{width:24,height:24,marginRight:8}})}return s.jsx("img",{src:C[n],style:{width:24,height:24,marginRight:8},alt:n})}function Oe(n,e){const o=[{label:"Local",value:"local"},{label:`NAS${e?` (${e})`:""}`,value:"nas / copy"},{label:"FTP",value:"ftp"},{label:"Dropbox",value:"dropbox"},{label:"OneDrive",value:"onedrive"},{label:"Google Drive",value:"googledrive"},{label:"WebDAV",value:"webdav"}].find(c=>c.value===n);return o?o.label:n}const Ue=n=>{const e=h.useMediaQuery(n.themeBreakpoints("sm")),[t,o]=w.useState(null),[c,i]=w.useState([]);return w.useEffect(()=>{let a;try{a=JSON.parse(window.localStorage.getItem("BackupExpanded")||"[]")}catch{a=[]}i(a||[]),o(null),n.socket.sendTo(`${n.adapterName}.${n.instance}`,"list",n.backupSource).then(r=>{Object.keys(r.data).forEach(p=>Object.keys(r.data[p]).forEach(d=>r.data[p][d].sort((u,x)=>u.name.replace(/^iobroker_/,"")>x.name.replace(/^iobroker_/,"")?-1:1))),o(r)})},[]),s.jsxs(h.Dialog,{open:!0,onClose:n.onClose,fullWidth:!0,fullScreen:e,maxWidth:"lg",children:[s.jsx(h.DialogTitle,{children:l.I18n.t("Backup history")}),s.jsx("span",{style:{fontWeight:400,fontSize:16,padding:"0px 24px",flex:"0 0 auto"},children:l.I18n.t("Please select a backup from the list!").toUpperCase()}),s.jsx(h.DialogContent,{children:t?Object.keys(t.data).map(a=>s.jsxs(h.Accordion,{expanded:c.includes(a),onChange:()=>{const r=[...c],p=r.indexOf(a);p===-1?(r.push(a),r.sort()):r.splice(p,1),window.localStorage.setItem("BackupExpanded",JSON.stringify(r)),i(r)},style:{backgroundColor:n.themeType?"rgba(10, 10, 10, 0.05)":"rgba(250, 250, 250, 0.05)"},children:[s.jsxs(h.AccordionSummary,{expandIcon:s.jsx(f.ExpandMore,{}),children:[W(a),s.jsx("span",{style:{fontWeight:"bold",fontSize:16},children:l.I18n.t(Oe(a,n.connectType)).toUpperCase()})]}),s.jsx(h.AccordionDetails,{children:Object.keys(t.data[a]).map(r=>s.jsxs(h.Accordion,{expanded:c.includes(r),onChange:()=>{const p=[...c],d=p.indexOf(r);d===-1?(p.push(r),p.sort()):p.splice(d,1),window.localStorage.setItem("BackupExpanded",JSON.stringify(p)),i(p)},children:[s.jsxs(h.AccordionSummary,{expandIcon:s.jsx(f.ExpandMore,{}),children:[W(r.split(".").shift()),s.jsx("span",{style:{fontWeight:"bold",fontSize:14},children:l.I18n.t(r).toUpperCase()})]}),s.jsx(h.AccordionDetails,{children:s.jsx(h.Table,{size:"small",children:s.jsx(h.TableBody,{children:t.data[a][r].map((p,d)=>s.jsxs(h.TableRow,{style:{display:"flex",flexDirection:e?"column":"row"},children:[s.jsxs(h.TableCell,{style:{width:e?"100%":220,whiteSpace:"nowrap",padding:e?"6px 0":"16px 16px"},children:[l.I18n.t("Backup time"),":",s.jsx("span",{style:{marginLeft:8},children:Be(p.name)})]}),s.jsxs(h.TableCell,{style:{width:e?"100%":"calc(100% - 320px)",whiteSpace:"nowrap",padding:e?"6px 0":"16px 16px"},children:[l.I18n.t("File size"),":",s.jsx("span",{style:{marginLeft:8},children:Ee(p.size)})]}),s.jsx(h.TableCell,{style:{width:e?"100%":88,borderBottom:e?"1px outset rgb(224, 224, 224)":"1px solid rgb(224, 224, 224)",padding:"6px 0"},children:s.jsxs("div",{style:{display:"flex",gap:8,justifyContent:e?"center":"normal"},children:[n.allowDownload?s.jsx(h.Tooltip,{title:l.I18n.t("Download Backup File"),children:s.jsx(h.Fab,{size:"small",color:n.themeType==="dark"?"primary":"grey",onClick:async()=>{const u=await n.socket.sendTo(`${n.adapterName}.${n.instance}`,"getFile",{type:a,fileName:p.path,protocol:window.location.protocol}),x=`${window.location.protocol}//${window.location.hostname}:${u.listenPort}/${u.fileName?u.fileName:p.path.split(/[\\/]/).pop()}`;ie.saveAs(x)},children:s.jsx(f.Download,{})})}):null,s.jsx(h.Tooltip,{title:l.I18n.t("Restore Backup File"),children:s.jsx(h.Fab,{size:"small",color:n.themeType==="dark"?"primary":"grey",onClick:()=>n.onRestore(a,r,p.path),children:s.jsx(f.History,{})})})]})})]},d))})})})]},r))})]},a)):s.jsx(h.LinearProgress,{})}),s.jsx(h.DialogActions,{children:s.jsx(h.Button,{onClick:n.onClose,startIcon:s.jsx(f.Close,{}),variant:"contained",color:"primary",children:l.I18n.t("Close")})})]})};class Fe extends w.Component{render(){var t;const e=[{label:"Local",value:"local"},{name:"cifsEnabled",label:`NAS${(t=this.props.data)!=null&&t.connectType?` (${this.props.data.connectType})`:""}`,value:"cifs"},{name:"ftpEnabled",label:"FTP",value:"ftp"},{name:"dropboxEnabled",label:"Dropbox",value:"dropbox"},{name:"onedriveEnabled",label:"OneDrive",value:"onedrive"},{name:"googledriveEnabled",label:"Google Drive",value:"googledrive"},{name:"webdavEnabled",label:"WebDAV",value:"webdav"}];return s.jsxs(h.FormControl,{classes:this.props.className,fullWidth:!0,variant:"standard",style:{height:32,...this.props.style||{}},children:[s.jsx(h.InputLabel,{children:l.I18n.t("Source type")}),s.jsx(h.Select,{variant:"standard",value:this.props.value||"local",onChange:o=>this.props.onChange(o.target.value),children:e.map(o=>!o.name||!this.props.data||this.props.data[o.name]?s.jsx(h.MenuItem,{value:o.value,children:l.I18n.t(o.label)},o.value):null)})]})}}const g={paper:{height:"calc(100% - 64px)"},textTime:{display:"inline-block",width:95},responseTextTime:{display:"inline-block",width:70},textLevel:{display:"inline-block",width:50},"textLevel-ERROR":{color:"red"},"textLevel-WARN":{color:"orange"},"textLevel-INFO":{color:"#00b204"},textSource:{display:"inline-block",width:100,textAlign:"left"},text:{display:"inline-block"},responseText:{display:"inline-block",wordWrap:"break-word"},textLine:{whiteSpace:"nowrap"},responseTextLine:{whiteSpace:"normal"},dialogContent:{position:"relative",padding:16},logContainer:{fontSize:12,fontFamily:"monospace",padding:8,border:"1px solid grey",borderRadius:5,overflow:"auto",boxSizing:"border-box",height:"calc(100% - 16px - 4px)",width:"calc(100% - 16px)"},responseLogContainer:{position:"relative",display:"flex",flexDirection:"column",gap:15},dialogActions:{display:"flex",flexDirection:"column",alignItems:"stretch"}};class k extends w.Component{lastExecutionLine;textRef;textRefRestore;retries;polling;closeTimeout;constructor(e){super(e);const t=["dropbox","onedrive","googledrive","ftp","webdav"],o=["grafana","jarvis","javascripts","mysql","sqlite","influxDB","pgsql","zigbee","esphome","zigbee2mqtt","nodered","yahka","historyDB"];let c=!1;const i=[];o.find(a=>this.props.fileName.includes(a))?(i[0]={text:l.I18n.t("ioBroker will not be restarted for this restore type."),number:!1},i[1]={text:l.I18n.t('Confirm with "Restore".'),number:!1}):(c=!0,t.includes(this.props.location)?(i[0]={text:l.I18n.t('Confirm with "Restore" and the download begins. Please wait until the download is finished!'),number:!0},i[1]={text:l.I18n.t("After download ioBroker will be restarted during restore."),number:!0}):i[0]={text:l.I18n.t("ioBroker will be restarted during restore."),number:!1},i.push({text:l.I18n.t("After confirmation, a new tab opens with the Restore Log."),number:!1}),i.push({text:l.I18n.t("If the tab does not open, please deactivate your popup blocker."),number:!1})),this.state={done:!1,executing:!1,executionLog:[],closeOnReady:!1,isStopped:c,isFullScreen:!1,messages:i,showRestoreDialog:!1,restoreProcess:{done:!1,log:[],startFinish:"",restoreStatus:"",statusColor:""}},this.lastExecutionLine="",this.textRef=b.createRef(),this.textRefRestore=b.createRef(),this.retries=0}async pollStatus(){if(this.state.showRestoreDialog)try{await fetch(`${window.location.protocol}//${window.location.hostname}:8091/status.json`).then(e=>e.json()).then(e=>{const t=JSON.parse(JSON.stringify(this.state.restoreProcess));typeof e.logWebIF=="string"&&(t.log=e.logWebIF.split(`
`)),t.startFinish=e.startFinish,t.restoreStatus=e.restoreStatus?l.I18n.t(e.restoreStatus):"",t.statusColor=e.statusColor,t.startFinish==="[Finish]"&&(clearInterval(this.polling),this.polling=null,t.done=!0),this.textRefRestore.current&&this.textRefRestore.current.scrollTop+this.textRefRestore.current.clientHeight>=this.textRefRestore.current.scrollHeight&&setTimeout(()=>this.textRefRestore.current&&(this.textRefRestore.current.scrollTop=this.textRefRestore.current.scrollHeight),100),this.setState({restoreProcess:t})}).catch(e=>{this.retries++,this.retries>15&&(console.warn(`Cannot get _status: ${e}`),clearInterval(this.polling),this.polling=null,this.setState({restoreProcess:{done:!0,log:[],startFinish:"[Finish]",restoreStatus:l.I18n.t("Cannot get status"),statusColor:"#c62828"}}))})}catch(e){console.warn(`Cannot get status: ${e}`),this.retries++,this.retries>15&&(clearInterval(this.polling),this.polling=null,this.setState({restoreProcess:{done:!0,log:[],startFinish:"[Finish]",restoreStatus:l.I18n.t("Cannot get status"),statusColor:"#c62828"}}))}}startPolling(){this.setState({showRestoreDialog:!0,restoreProcess:{log:[],done:!1,startFinish:"[Starting]",restoreStatus:"",statusColor:""}}),this.retries=0,this.polling=setInterval(()=>this.pollStatus(),1e3)}static getTime(){const e=new Date;return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}.${e.getMilliseconds().toString().padStart(3,"0")}`}onOutput=(e,t)=>{if(t!=null&&t.val&&t.val!==this.lastExecutionLine){this.lastExecutionLine=t.val;const o=[...this.state.executionLog],c=(t.val||"").toString().replace(/\n$/,"").split(`
`),i=k.getTime();if(c.forEach(a=>{a=a.trim();const r=a.match(/^\[(\w+)] \[(\w+)] - (.*)/);if(r)o.push({level:r[1],source:r[2],ts:i,text:r[3]});else if(t.val.startsWith("[EXIT]")){const p=t.val.match(/^\[EXIT] ([-\d]+)/);o.push({level:p[1]==="0"?"INFO":"ERROR",source:"gui",ts:i,text:p[1]==="0"?l.I18n.t("Restore completed successfully!"):l.I18n.t("Restore was canceled!")})}else o.push({text:a})}),this.textRef.current&&this.textRef.current.scrollTop+this.textRef.current.clientHeight>=this.textRef.current.scrollHeight&&setTimeout(()=>this.textRef.current.scrollTop=this.textRef.current.scrollHeight,100),this.setState({executionLog:o}),t.val.startsWith("[EXIT]")){this.setState({executing:!1});const a=t.val.match(/^\[EXIT] ([-\d]+)/);this.state.closeOnReady&&(!a||a[1]==="0")&&(this.closeTimeout=this.closeTimeout||setTimeout(()=>{this.closeTimeout=null,this.props.onClose()},1500))}}};async componentDidMount(){await this.props.socket.subscribeState(`${this.props.adapterName}.${this.props.instance}.output.line`,this.onOutput),this.updateFullScreenMode(),window.addEventListener("resize",this.updateFullScreenMode)}componentWillUnmount(){this.props.socket.unsubscribeState(`${this.props.adapterName}.${this.props.instance}.output.line`,this.onOutput),this.closeTimeout&&clearTimeout(this.closeTimeout),this.closeTimeout=null,window.removeEventListener("resize",this.updateFullScreenMode)}updateFullScreenMode=()=>{const e=window.matchMedia("(max-width: 600px)").matches;this.setState({isFullScreen:e})};static renderLine(e,t,o){return s.jsxs("div",{style:{...o?g.responseTextLine:g.textLine},children:[s.jsx("div",{style:{...g.textTime,...e.level?g[`textLevel-${e.level}`]||{}:{}},children:e.ts}),s.jsx("div",{style:{...g.textLevel,...e.level?g[`textLevel-${e.level}`]||{}:{}},children:e.level}),s.jsx("div",{style:{...g.textSource,...e.level?g[`textLevel-${e.level}`]||{}:{}},children:e.source}),s.jsx("div",{style:{...o?g.responseText:g.text,...e.level?g[`textLevel-${e.level}`]||{}:{}},children:e.text})]},t)}static renderRestoreLine(e,t,o){return s.jsx("div",{style:{...o?g.responseTextLine:g.textLine},children:e.includes("Restore completed successfully!!")?s.jsx("div",{style:{...o?g.responseText:g.text,color:e.includes("Restore completed successfully!!")?"#00b204":void 0},children:l.I18n.t(`After the restart, all adapters are installed. Please be patient.
Depending on the system, it may take some time until all adapters are available again.`)}):s.jsx("div",{style:{...o?g.responseText:g.text,color:e.startsWith("[ERROR]")?"#FF0000":e.includes("Restore completed successfully")?"#00b204":void 0},children:e})},t)}renderRestoreDialog(){return this.state.showRestoreDialog?s.jsxs(h.Dialog,{open:!0,onClose:()=>{this.state.restoreProcess.done&&this.setState({showRestoreDialog:!1})},maxWidth:"lg",fullWidth:!0,fullScreen:this.state.isFullScreen,sx:{"& .MuiDialog-paper":g.paper},children:[s.jsxs(h.DialogTitle,{style:{color:this.state.restoreProcess.statusColor},children:[s.jsx(f.SettingsBackupRestore,{style:{width:24,height:24,margin:"0 10px -4px 0"}}),l.I18n.t(this.state.restoreProcess.startFinish),this.state.restoreProcess.restoreStatus?s.jsx("span",{style:{marginLeft:10,marginRight:10},children:"-"}):null,l.I18n.t(this.state.restoreProcess.restoreStatus)||"..."]}),s.jsxs(h.DialogContent,{style:g.dialogContent,children:[this.state.restoreProcess.done?s.jsx("div",{style:{height:4,width:"calc(100% - 64px)"}}):s.jsx(h.LinearProgress,{style:{position:"absolute",top:0,left:24,width:"calc(100% - 64px)"}}),s.jsx("div",{style:{...g.logContainer,...this.state.isFullScreen?g.responseLogContainer:void 0,backgroundColor:this.props.themeType==="dark"?"#111":"#EEE"},ref:this.textRefRestore,children:this.state.restoreProcess.log.map((e,t)=>k.renderRestoreLine(e,t,this.state.isFullScreen))})]}),s.jsx(h.DialogActions,{style:{...this.state.isFullScreen?g.dialogActions:void 0},children:s.jsx(h.Button,{disabled:!this.state.restoreProcess.done,variant:"contained",onClick:()=>{this.props.onClose(),this.setState({showRestoreDialog:!1})},startIcon:s.jsx(f.Close,{}),color:this.props.themeType==="dark"?"primary":"grey",children:l.I18n.t("Close")})})]}):null}doRestore(){this.setState({executing:!0,done:!1},async()=>{try{const e=await this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,"restore",{type:this.props.location,fileName:this.props.fileName,currentTheme:this.props.themeType==="dark"?"react-dark":"none",currentProtocol:window.location.protocol,stopIOB:this.state.isStopped});!e||e.error?this.setState({error:JSON.stringify(e.error),executing:!1}):this.state.isStopped?setTimeout(()=>this.startPolling(),this.props.restoreIfWait||5e3):this.setState({done:!0,executing:!1})}catch(e){this.setState({error:e.toString(),executing:!1})}})}renderError(){return this.state.error?s.jsx(l.DialogError,{text:this.state.error,title:l.I18n.t("Error"),onClose:()=>this.setState({error:""})}):null}render(){return s.jsxs(h.Dialog,{open:!0,onClose:()=>!this.state.executing&&this.props.onClose(),maxWidth:"lg",fullWidth:!0,fullScreen:this.state.isFullScreen,sx:{"& .MuiDialog-paper":g.paper},children:[s.jsxs(h.DialogTitle,{children:[s.jsx(f.SettingsBackupRestore,{style:{width:24,height:24,margin:"0 10px -4px 0"}}),l.I18n.t("BackItUp restore execution")]}),s.jsxs(h.DialogContent,{style:g.dialogContent,children:[this.state.executing?s.jsx(h.LinearProgress,{style:{position:"absolute",top:0,left:24,width:"calc(100% - 64px)"}}):s.jsx("div",{style:{height:4,width:"calc(100% - 64px)"}}),this.state.executing||this.state.done?s.jsx("div",{style:{...g.logContainer,...this.state.isFullScreen?g.responseLogContainer:void 0,backgroundColor:this.props.themeType==="dark"?"#111":"#EEE"},ref:this.textRef,children:this.state.executionLog.map((e,t)=>k.renderLine(e,t,this.state.isFullScreen))}):null,!this.state.executing&&!this.state.done?s.jsx("div",{children:s.jsx("ul",{children:this.state.messages.map((e,t)=>s.jsxs("li",{children:[e.number?`${t+1}. `:null,s.jsx("span",{style:{fontSize:"medium"},children:e.text})]},t))})}):null]}),s.jsxs(h.DialogActions,{style:{...this.state.isFullScreen?g.dialogActions:void 0},children:[s.jsx(h.FormControlLabel,{control:s.jsx(h.Checkbox,{disabled:this.state.done,checked:this.state.closeOnReady,onChange:e=>this.setState({closeOnReady:e.target.checked})}),label:l.I18n.t("Close on ready")}),s.jsx(h.Button,{style:{marginTop:this.state.isFullScreen?10:0},variant:"contained",disabled:this.state.executing||this.state.done,onClick:()=>this.setState({executionLog:[{ts:k.getTime(),level:"INFO",text:"starting Restore...",source:"gui"}]},()=>this.doRestore()),color:this.props.themeType==="dark"?"primary":"grey",children:l.I18n.t("Restore")}),s.jsx(h.Button,{style:{marginTop:this.state.isFullScreen?10:0},color:this.props.themeType==="dark"?"primary":"grey",variant:"contained",disabled:this.state.executing,onClick:()=>this.props.onClose(),children:this.state.done?l.I18n.t("Close"):l.I18n.t("Cancel")})]}),this.renderError(),this.renderRestoreDialog()]})}}class Ne extends S.ConfigGeneric{constructor(e){super(e),this.state={...this.state,backupSource:window.localStorage.getItem("BackItUp.backupSource")||"local",connectType:this.props.data.connectType,showGetBackups:!1,showRestore:null,restoreIfWait:5e3}}renderItem(){return s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:12,justifyContent:"space-evenly",alignContent:"center",justifyItems:"stretch",gridAutoRows:"1fr"},children:[s.jsx(Fe,{value:this.state.backupSource,data:this.props.data,onChange:e=>{window.localStorage.setItem("BackItUp.backupSource",e),this.setState({backupSource:e})}}),s.jsx(h.Button,{style:{marginTop:16},onClick:()=>this.setState({showGetBackups:!0}),disabled:!this.props.alive,variant:"contained",color:"primary",endIcon:s.jsx(f.Search,{}),children:l.I18n.t("Get list")}),s.jsx(h.FormControlLabel,{control:s.jsx(h.Checkbox,{value:this.props.data.startAllRestore,onChange:e=>this.props.onChange({...this.props.data,startAllRestore:e.target.checked})}),label:l.I18n.t("Start all adapter after restore")}),this.state.showGetBackups?s.jsx(Ue,{onClose:()=>this.setState({showGetBackups:!1}),onRestore:(e,t,o)=>this.setState({showRestore:{location:e,object:t,fileName:o},showGetBackups:!1}),socket:this.props.oContext.socket,themeType:this.props.oContext.themeType,themeBreakpoints:this.props.oContext.theme.breakpoints.down,adapterName:this.props.oContext.adapterName,instance:this.props.oContext.instance,backupSource:this.state.backupSource,connectType:this.props.data.connectType,allowDownload:this.props.schema.custom.allowDownload}):null,this.state.showRestore?s.jsx(k,{alive:this.props.alive,location:this.state.showRestore.location,fileName:this.state.showRestore.fileName,onClose:()=>this.setState({showRestore:null}),socket:this.props.oContext.socket,themeType:this.props.oContext.themeType,adapterName:this.props.oContext.adapterName,instance:this.props.oContext.instance,restoreIfWait:this.state.restoreIfWait}):null]})}}class Me extends T{storedAlive;storedChecked;constructor(e){super(e),this.storedAlive=this.props.alive,this.storedChecked=!1}checkConfiguration(){this.props.alive&&(this.props.oContext.socket.sendTo(`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,"getSystemInfo",null).then(async e=>{let t=!1;(e==null?void 0:e.systemOS)==="docker"&&e.dockerDB===!0||(e==null?void 0:e.systemOS)!=="docker"?(this.props.data._nonSupportDockerDB=!1,t=!0):(e==null?void 0:e.systemOS)==="docker"&&e.dockerDB===!1&&(this.props.data._nonSupportDockerDB=!0,this.props.data.influxDBEnabled&&(this.props.data.influxDBEnabled=!1,t=!0),this.props.data.mySqlEnabled&&(this.props.data.mySqlEnabled=!1,t=!0),this.props.data.sqliteEnabled&&(this.props.data.sqliteEnabled=!1,t=!0),this.props.data.pgSqlEnabled&&(this.props.data.pgSqlEnabled=!1,t=!0),this.props.data.startAllRestore&&(this.props.data.startAllRestore=!1,t=!0),t&&this.props.onChange(this.props.data),this.props.data.redisType!=="remote"&&this.props.data.redisEnabled&&(this.props.data.redisType="remote",t=!0),t=!0),(e==null?void 0:e.systemOS)==="docker"?(t=!0,this.props.data._restoreIfWait=1e4):(e==null?void 0:e.systemOS)==="win"&&(t=!0,this.props.data._restoreIfWait=18e3);const o=["ccu","mySql","sqlite","pgSql","influxDB","history"];for(let c=0;c<o.length;c++)if(!this.isConfigFilled(o[c])){const i=await this.fetchConfig(o[c],this.props.data).catch(a=>console.error(a));t=t||i.changed}}),!this.props.data.cifsEnabled&&!this.storedChecked&&this.props.oContext.socket.sendTo(`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,"getFileSystemInfo",null).then(e=>{e!=null&&e.diskState&&e.storage&&e.diskFree&&(this.storedChecked=!0,e.diskState==="warn"&&e.storage==="local"?this.showMessage(l.I18n.t("On the host only %s MB free space is available! Please check your system!",e.diskFree),l.I18n.t("BackItUp Information!")):e.diskState==="error"&&e.storage==="local"&&this.showMessage(l.I18n.t("On the host only %s MB free space is available! Local backups are currently not possible. Please check your system!",e.diskFree),l.I18n.t("BackItUp Information!"),"warning"))}))}componentDidMount(){super.componentDidMount(),this.storedAlive&&this.checkConfiguration()}renderItem(){return this.storedAlive!==this.props.alive&&(this.storedAlive=this.props.alive,this.storedAlive&&this.checkConfiguration()),this.renderMessage()}}const Je={AdapterExist:K,BackupNow:j,DetectConfig:Z,GoogleDrive:$,Onedrive:ee,Dropbox:te,CheckConfigInvisible:_,Instance:se,RestoreBackup:Ne,CheckAllConfigInvisible:Me};export{Je as default};
